(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[8880],{66848:(H,U,s)=>{"use strict";s.d(U,{Z:()=>Me});var t=s(67294),x=s(1565),N=s(45697),m=s.n(N),g=s(41580),$=s(31666),k=s(14484),v=s(85893);const F=j=>(0,v.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...j,children:[(0,v.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#4945FF",stroke:"#4945FF"}),(0,v.jsx)("path",{d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082ZM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782Z",fill:"#fff"})]}),n=F;var w=s(85038),b=s(34668),Ne=s(65531),fe=s(73145),Ce=s(82574),te=s(74525),pe=s(60133);const ce=j=>(0,v.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...j,children:[(0,v.jsx)("path",{d:"M.5 3A2.5 2.5 0 0 1 3 .5h26A2.5 2.5 0 0 1 31.5 3v18a2.5 2.5 0 0 1-2.5 2.5H3A2.5 2.5 0 0 1 .5 21V3Z",fill:"#FDF4DC",stroke:"#FAE7B9"}),(0,v.jsx)("path",{d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 0 1 2.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 0 0 .433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 0 0-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887Z",fill:"#D9822F"})]}),Te=ce;var Le=s(48394);const Re=j=>(0,v.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...j,children:[(0,v.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#EAF5FF",stroke:"#B8E1FF"}),(0,v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 0 0-.138-.302A.465.465 0 0 0 18.82 8h-8.357a.465.465 0 0 0-.326.127.397.397 0 0 0-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 0 0 .327-.127.397.397 0 0 0 .138-.301Zm2.785 2.713v.857a.397.397 0 0 1-.137.301.465.465 0 0 1-.327.128H10.464a.465.465 0 0 1-.326-.128.397.397 0 0 1-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 0 1 .326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 0 1 .137.302Zm-1.857 3.574v.857a.397.397 0 0 1-.137.302.465.465 0 0 1-.327.127h-9.286a.465.465 0 0 1-.326-.127.397.397 0 0 1-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 0 1 .326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 0 1 .138.301Z",fill:"#0C75AF"})]}),me=Re,u=j=>(0,v.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...j,children:[(0,v.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#0C75AF",stroke:"#0C75AF"}),(0,v.jsx)("path",{d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71ZM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781Z",fill:"#fff"})]}),Pe=u;var Ye=s(21210),lt=s(55884),we=s(73599);const Qe={biginteger:$.Z,boolean:k.Z,collectionType:n,component:w.Z,contentType:n,date:b.Z,datetime:b.Z,decimal:$.Z,dynamiczone:Ne.Z,email:fe.Z,enum:Ce.Z,enumeration:Ce.Z,file:te.Z,files:te.Z,float:$.Z,integer:$.Z,json:pe.Z,JSON:pe.Z,media:te.Z,number:$.Z,password:Te,relation:Le.Z,richtext:me,singleType:Pe,string:Ye.Z,text:Ye.Z,time:b.Z,timestamp:b.Z,uid:lt.Z},G=(0,x.ZP)(g.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,ge=({type:j,customField:re,...Je})=>{const K=(0,we.mZ)();let De=Qe[j];if(re){const{icon:vt}=K.get(re);vt&&(De=vt)}return Qe[j]?t.createElement(G,{height:(0,we.Q1)(24),width:(0,we.Q1)(32),shrink:0,...Je,"aria-hidden":!0},t.createElement(g.x,{as:De})):null};ge.defaultProps={customField:null},ge.propTypes={type:m().string.isRequired,customField:m().string};const Me=ge},7955:(H,U,s)=>{"use strict";s.d(U,{Z:()=>N});var t=s(67294);const N=(0,t.createContext)()},98422:(H,U,s)=>{"use strict";s.d(U,{Z:()=>N});var t=s(67294);const N=(0,t.createContext)()},13588:(H,U,s)=>{"use strict";s.d(U,{Z:()=>m});var t=s(67294),x=s(7955);const m=()=>(0,t.useContext)(x.Z)},26478:(H,U,s)=>{"use strict";s.d(U,{Z:()=>m});var t=s(67294),x=s(98422);const m=()=>(0,t.useContext)(x.Z)},38068:(H,U,s)=>{"use strict";s.r(U),s.d(U,{default:()=>Os});var t=s(67294),x=s(16550),N=s(64593),m=s(86896),g=s(73599),$=s(17034),k=s(57176),v=s(96124),F=s(45697),n=s.n(F),w=s(27361),b=s.n(w),Ne=s(7739),fe=s.n(Ne),Ce=s(36968),te=s.n(Ce),pe=s(84238),ce=s.n(pe),Te=s(86706),Le=s(14890),Re=s(7955),me=s(26478),u=s(5002),Pe=s(85169),Ye=s(18721),lt=s.n(Ye),we=s(7334),Qe=s.n(we),G=s(42866),ge=s(59946),Me=s(82777),j=s(11047),re=s(60633),Je=s(70004),K=s(41580),De=s(42761),vt=s(36856),_=s(29728),Vt=s(18446),mt=s.n(Vt),_e=s(13588),It=s(17603),jt=s(11700),qe=s.n(jt);const Ht=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],Ct=({intlLabel:e,name:a,onChange:o,value:i})=>{const{formatMessage:r}=(0,m.Z)(),l=i===null||i.length===0?r({id:"global.none",defaultMessage:"None"}):[...i].sort().map(c=>qe()(c)).join(", "),d=e.id?r({id:e.id,defaultMessage:e.defaultMessage}):a;return t.createElement(It.Q,{id:"select1",label:d,customizeContent:()=>l,onChange:c=>{c.length>0?o({target:{name:a,value:c,type:"allowed-types-select"}}):o({target:{name:a,value:null,type:"allowed-types-select"}})},options:Ht,value:i||[]})};Ct.defaultProps={value:null},Ct.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().oneOfType([n().object,n().array])};const Gt=Ct;var ne=s(75515);const Ge=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var St=s(17373),Lt=s(11276),ye=s(74571),pt=s(66848),Ue=s(1565);const Ie=(0,Ue.ZP)(K.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,Tt=({type:e})=>{const{formatMessage:a}=(0,m.Z)(),{onClickSelectField:o}=(0,me.Z)(),i=()=>{o({attributeType:e,step:e==="component"?"1":null})};return t.createElement(Ie,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},t.createElement(j.k,null,t.createElement(pt.Z,{type:e}),t.createElement(K.x,{paddingLeft:4},t.createElement(j.k,null,t.createElement(ne.Z,{fontWeight:"bold"},a({id:(0,u.Z)(`attribute.${e}`),defaultMessage:e}))),t.createElement(j.k,null,t.createElement(ne.Z,{variant:"pi",textColor:"neutral600"},a({id:(0,u.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};Tt.defaultProps={type:"text"},Tt.propTypes={type:n().string};const at=Tt,Ee=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}},gt=({attributes:e})=>t.createElement(St.k,{tagName:"button"},t.createElement(j.k,{direction:"column",alignItems:"stretch",gap:8},e.map((a,o)=>t.createElement(Lt.r,{key:o,gap:0},a.map((i,r)=>{const{paddingLeft:l,paddingRight:d}=Ee(r);return t.createElement(ye.P,{key:i,col:6,style:{height:"100%"}},t.createElement(K.x,{paddingLeft:l,paddingRight:d,paddingBottom:1,style:{height:"100%"}},t.createElement(at,{type:i})))})))));gt.propTypes={attributes:n().array.isRequired};const ft=gt;var Mt=s(23620),yt=s(80129),$t=s.n(yt),kt=s(52624),X=s(85893),he=s(73727),Xt=s(21817),ht=s(92577);const Bt=(0,Ue.ZP)(Xt.G)`
  &[aria-disabled='true'] {
    ${ht.sg}
    &:active {
      ${ht.sg}
    }
  }
  &:hover {
    ${ht.yP}
  }
  &:active {
    ${ht.tB}
  }
  ${ht.PD}
`,Yt=t.forwardRef(({variant:e="default",startIcon:a,endIcon:o,disabled:i=!1,children:r,size:l="S",href:d,to:c,...p},y)=>{const h=d?"_blank":void 0,f=d?"noreferrer noopener":void 0,E=l==="S"?2:"10px",M=4;return(0,X.jsxs)(Bt,{ref:y,"aria-disabled":i,size:l,variant:e,target:h,rel:f,to:i?void 0:c,href:i?"#":d,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:E,paddingLeft:M,paddingRight:M,paddingTop:E,pointerEvents:i?"none":void 0,...p,as:c&&!i?he.OL:"a",children:[a&&(0,X.jsx)(j.k,{"aria-hidden":!0,children:a}),(0,X.jsx)(ne.Z,{variant:l==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:r}),o&&(0,X.jsx)(j.k,{"aria-hidden":!0,children:o})]})});var Qt=s(86031),ot=s(96315);const st=(0,Ue.ZP)(K.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Jt=()=>t.createElement(j.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>t.createElement(st,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0}))),Ot=()=>{const{formatMessage:e}=(0,m.Z)();return t.createElement(K.x,{position:"relative"},t.createElement(Jt,null),t.createElement(K.x,{position:"absolute",top:6,width:"100%"},t.createElement(j.k,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(kt.J,{as:Qt.Z,color:"",width:"160px",height:"88px"}),t.createElement(K.x,{paddingTop:6,paddingBottom:4},t.createElement(K.x,{textAlign:"center"},t.createElement(ne.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(K.x,{paddingTop:4},t.createElement(ne.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(Yt,{to:`/marketplace?${$t().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:t.createElement(ot.Z,null)},e({id:(0,u.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Ke=({customFieldUid:e,customField:a})=>{const{type:o,intlLabel:i,intlDescription:r}=a,{formatMessage:l}=(0,m.Z)(),{onClickSelectCustomField:d}=(0,me.Z)(),c=()=>{d({attributeType:o,customFieldUid:e})};return t.createElement(Ie,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c},t.createElement(j.k,null,t.createElement(pt.Z,{type:o,customField:e}),t.createElement(K.x,{paddingLeft:4},t.createElement(j.k,null,t.createElement(ne.Z,{fontWeight:"bold"},l(i))),t.createElement(j.k,null,t.createElement(ne.Z,{variant:"pi",textColor:"neutral600"},l(r))))))};Ke.propTypes={customFieldUid:n().string.isRequired,customField:n().shape({type:n().string.isRequired,icon:n().func,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,intlDescription:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired}).isRequired};const en=Ke,tn=()=>{const{formatMessage:e}=(0,m.Z)(),a=(0,g.mZ)(),o=Object.entries(a.getAll());if(!o.length)return t.createElement(Ot,null);const i=o.sort((r,l)=>r[1].name>l[1].name?1:-1);return t.createElement(St.k,{tagName:"button"},t.createElement(j.k,{direction:"column",alignItems:"stretch",gap:3},t.createElement(Lt.r,{gap:0},i.map(([r,l],d)=>{const{paddingLeft:c,paddingRight:p}=Ee(d);return t.createElement(ye.P,{key:r,col:6,style:{height:"100%"}},t.createElement(K.x,{paddingLeft:c,paddingRight:p,paddingBottom:1,style:{height:"100%"}},t.createElement(en,{key:r,customFieldUid:r,customField:l})))})),t.createElement(Mt.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,u.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},wt=({attributes:e,forTarget:a,kind:o})=>{const{formatMessage:i}=(0,m.Z)(),r=(0,u.Z)("modalForm.tabs.default"),l=(0,u.Z)("modalForm.tabs.custom"),d=a.includes("component")?"component":o,c=(0,u.Z)(`modalForm.sub-header.chooseAttribute.${d}`);return t.createElement(ge.f,{padding:6},t.createElement(Me.v,{label:i({id:(0,u.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(j.k,{justifyContent:"space-between"},t.createElement(ne.Z,{variant:"beta",as:"h2"},i({id:c,defaultMessage:"Select a field"})),t.createElement(re.m,null,t.createElement(re.O,null,i({id:r,defaultMessage:"Default"})),t.createElement(re.O,null,i({id:l,defaultMessage:"Custom"})))),t.createElement(K.x,{paddingBottom:6},t.createElement(Je.i,null)),t.createElement(De.n,null,t.createElement(De.x,null,t.createElement(ft,{attributes:e})),t.createElement(De.x,null,t.createElement(tn,null)))))};wt.propTypes={attributes:n().array.isRequired,forTarget:n().string.isRequired,kind:n().string.isRequired};const nn=wt;var bt=s(36213);const Y=({description:e,disabled:a,intlLabel:o,isCreating:i,name:r,onChange:l,value:d})=>{const{formatMessage:c}=(0,m.Z)(),[p,y]=(0,t.useState)(!1),h=o.id?c({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):r,f=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=()=>y(D=>!D),M=()=>{l({target:{name:r,value:!1}}),E()},P=({target:{checked:D}})=>{if(!D&&!i){E();return}l({target:{name:r,value:D}})};return t.createElement(t.Fragment,null,t.createElement(bt.X,{checked:d,disabled:a,hint:f,name:r,onChange:P},h),t.createElement(g.QH,{isOpen:p,onToggleDialog:E,onConfirm:M,bodyText:{id:(0,u.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,u.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};Y.defaultProps={description:null,disabled:!1,value:!1},Y.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isCreating:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().bool};const le=Y,je=({description:e,disabled:a,intlLabel:o,isCreating:i,name:r,onChange:l,value:d})=>{const{trackUsage:c}=(0,g.rS)(),{formatMessage:p}=(0,m.Z)(),[y,h]=(0,t.useState)(!1),f=o.id?p({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):r,E=e?p({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",M=()=>h(q=>!q),P=()=>{l({target:{name:r,value:!1}}),c("willDisableWorkflow"),M()},D=({target:{checked:q}})=>{if(!q&&!i){M();return}q&&c("willEnableWorkflow"),l({target:{name:r,value:q}})};return t.createElement(t.Fragment,null,t.createElement(bt.X,{checked:d,disabled:a,hint:E,name:r,onChange:D},f),t.createElement(g.QH,{isOpen:y,onToggleDialog:M,onConfirm:P,bodyText:{id:(0,u.Z)("popUpWarning.review-workflows.message"),defaultMessage:"If you disable the review workflows feature, all stage-related information will be removed for this content-type. Are you sure you want to disable it?"},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,u.Z)("popUpWarning.review-workflows.button.confirm"),defaultMessage:"Yes, disable"}}))};je.defaultProps={description:null,disabled:!1,value:!1},je.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isCreating:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().bool};const dt=je;var Yn=s(24969),an=s(2407);const on=({actionType:e,attributeName:a,attributeType:o,categoryName:i,contentTypeKind:r,dynamicZoneTarget:l,forTarget:d,modalType:c,targetUid:p,customFieldUid:y})=>{const{formatMessage:h}=(0,m.Z)(),{modifiedData:f}=(0,_e.Z)();let E,M=[];const P=f?.[d]?.[p]||f?.[d]||null;let D=P?.schema.displayName;if(c==="contentType"&&(E=r),["component","editCategory"].includes(c)&&(E="component"),["component","contentType"].includes(c)){let Z=(0,u.Z)(`modalForm.component.header-${e}`);return c==="contentType"&&(Z=(0,u.Z)(`modalForm.${r}.header-create`)),e==="edit"&&(Z=(0,u.Z)("modalForm.header-edit")),t.createElement(Yn.x,null,t.createElement(j.k,null,t.createElement(K.x,null,t.createElement(pt.Z,{type:E})),t.createElement(K.x,{paddingLeft:3},t.createElement(ne.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},h({id:Z},{name:D})))))}M=[{label:D,info:{category:P?.category||null,name:P?.schema.displayName}}],c==="chooseAttribute"&&(E=["component","components"].includes(d)?"component":P.schema.kind),c==="addComponentToDynamicZone"&&(E="dynamiczone",M.push({label:l})),(c==="attribute"||c==="customField")&&(E=o,M.push({label:a})),c==="editCategory"&&(M=[{label:h({id:(0,u.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]);const R=M.map(({label:Z})=>Z).join(",");return t.createElement(Yn.x,null,t.createElement(j.k,{gap:3},t.createElement(pt.Z,{type:E,customField:y}),t.createElement(an.O,{label:R},M.map((Z,L)=>{const J=qe()(Z.label);if(!J)return null;const ae=`${Z.label}.${L}`;if(Z.info?.category){const be=`${J} (${qe()(Z.info.category)} - ${qe()(Z.info.name)})`;return t.createElement(an.$,{key:ae},be)}return t.createElement(an.$,{key:ae},J)}))))};on.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},on.propTypes={actionType:n().string,attributeName:n().string,attributeType:n().string,categoryName:n().string,contentTypeKind:n().string,dynamicZoneTarget:n().string,forTarget:n().oneOf(["contentType","component","components"]),modalType:n().string.isRequired,targetUid:n().string,customFieldUid:n().string};const ja=on,sn=({categoryName:e,deleteCategory:a,deleteComponent:o,deleteContentType:i,isAttributeModal:r,isCustomFieldModal:l,isComponentAttribute:d,isComponentToDzModal:c,isContentTypeModal:p,isCreatingComponent:y,isCreatingComponentAttribute:h,isCreatingComponentInDz:f,isCreatingComponentWhileAddingAField:E,isCreatingContentType:M,isCreatingDz:P,isComponentModal:D,isDzAttribute:q,isEditingAttribute:R,isEditingCategory:Z,isInFirstComponentStep:L,onSubmitAddComponentAttribute:J,onSubmitAddComponentToDz:ae,onSubmitCreateContentType:be,onSubmitCreateComponent:Ae,onSubmitCreateDz:W,onSubmitEditAttribute:Xe,onSubmitEditCategory:ie,onSubmitEditComponent:oe,onSubmitEditContentType:tt,onSubmitEditCustomFieldAttribute:se,onSubmitEditDz:Zt,onClickFinish:Ze})=>{const{formatMessage:ee}=(0,m.Z)();return c?f?t.createElement(_.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),ae(A,!0)},startIcon:t.createElement(ot.Z,null)},ee({id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(_.z,{variant:"default",type:"submit",onClick:A=>{A.preventDefault(),ae(A,!1)}},ee({id:"global.finish",defaultMessage:"Finish"})):r&&q&&!P?t.createElement(_.z,{variant:"default",type:"submit",onClick:A=>{A.preventDefault(),Ze(),Zt(A,!1)}},ee({id:"global.finish",defaultMessage:"Finish"})):r&&q&&P?t.createElement(t.Fragment,null,t.createElement(_.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),W(A,!0)},startIcon:t.createElement(ot.Z,null)},ee({id:(0,u.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):r&&d?L?t.createElement(_.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),J(A,!0)}},ee(h?{id:(0,u.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,u.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(_.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),J(A,!0)},startIcon:t.createElement(ot.Z,null)},ee(E?{id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(_.z,{variant:"default",type:"button",onClick:A=>{A.preventDefault(),Ze(),J(A,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))):r&&!d&&!q?t.createElement(t.Fragment,null,t.createElement(_.z,{type:R?"button":"submit",variant:"secondary",onClick:A=>{A.preventDefault(),Xe(A,!0)},startIcon:t.createElement(ot.Z,null)},ee({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(_.z,{type:R?"submit":"button",variant:"default",onClick:A=>{A.preventDefault(),Ze(),Xe(A,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))):p?t.createElement(t.Fragment,null,!M&&t.createElement(t.Fragment,null,t.createElement(_.z,{type:"button",variant:"danger",onClick:A=>{A.preventDefault(),i()}},ee({id:"global.delete",defaultMessage:"Delete"})),t.createElement(_.z,{type:"submit",variant:"default",onClick:A=>{A.preventDefault(),tt(A,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))),M&&t.createElement(_.z,{type:"submit",variant:"secondary",onClick:A=>{A.preventDefault(),be(A,!0)}},ee({id:"global.continue",defaultMessage:"Continue"}))):D?t.createElement(t.Fragment,null,!y&&t.createElement(t.Fragment,null,t.createElement(_.z,{type:"button",variant:"danger",onClick:A=>{A.preventDefault(),o()}},ee({id:"global.delete",defaultMessage:"Delete"})),t.createElement(_.z,{type:"submit",variant:"default",onClick:A=>{A.preventDefault(),oe(A,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))),y&&t.createElement(_.z,{type:"submit",variant:"secondary",onClick:A=>{A.preventDefault(),Ae(A,!0)}},ee({id:"global.continue",defaultMessage:"Continue"}))):Z?t.createElement(t.Fragment,null,t.createElement(_.z,{type:"button",variant:"danger",onClick:A=>{A.preventDefault(),a(e)}},ee({id:"global.delete",defaultMessage:"Delete"})),t.createElement(_.z,{type:"submit",variant:"default",onClick:A=>{A.preventDefault(),ie(A)}},ee({id:"global.finish",defaultMessage:"finish"}))):l?t.createElement(t.Fragment,null,t.createElement(_.z,{type:R?"button":"submit",variant:"secondary",onClick:A=>{A.preventDefault(),se(A,!0)},startIcon:t.createElement(ot.Z,null)},ee({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(_.z,{type:R?"submit":"button",variant:"default",onClick:A=>{A.preventDefault(),Ze(),se(A,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))):null};sn.defaultProps={categoryName:null,onClickFinish(){}},sn.propTypes={categoryName:n().string,deleteCategory:n().func.isRequired,deleteComponent:n().func.isRequired,deleteContentType:n().func.isRequired,isAttributeModal:n().bool.isRequired,isCustomFieldModal:n().bool.isRequired,isComponentAttribute:n().bool.isRequired,isComponentModal:n().bool.isRequired,isComponentToDzModal:n().bool.isRequired,isContentTypeModal:n().bool.isRequired,isCreatingComponent:n().bool.isRequired,isCreatingComponentAttribute:n().bool.isRequired,isCreatingComponentInDz:n().bool.isRequired,isCreatingComponentWhileAddingAField:n().bool.isRequired,isCreatingContentType:n().bool.isRequired,isCreatingDz:n().bool.isRequired,isDzAttribute:n().bool.isRequired,isEditingAttribute:n().bool.isRequired,isEditingCategory:n().bool.isRequired,isInFirstComponentStep:n().bool.isRequired,onSubmitAddComponentAttribute:n().func.isRequired,onSubmitAddComponentToDz:n().func.isRequired,onSubmitCreateContentType:n().func.isRequired,onSubmitCreateComponent:n().func.isRequired,onSubmitCreateDz:n().func.isRequired,onSubmitEditAttribute:n().func.isRequired,onSubmitEditCategory:n().func.isRequired,onSubmitEditComponent:n().func.isRequired,onSubmitEditContentType:n().func.isRequired,onSubmitEditCustomFieldAttribute:n().func.isRequired,onSubmitEditDz:n().func.isRequired,onClickFinish:n().func};const $a=sn,ka=({modalType:e,forTarget:a,kind:o,actionType:i,step:r})=>{switch(e){case"chooseAttribute":return(0,u.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,u.Z)(`modalForm.sub-header.attribute.${i}${r!=="null"&&r!==null&&i!=="edit"?".step":""}`);case"customField":return(0,u.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,u.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,u.Z)("configurations")}},rn=({actionType:e,modalType:a,forTarget:o,kind:i,step:r,attributeType:l,attributeName:d,customField:c})=>{const{formatMessage:p}=(0,m.Z)(),y=a==="customField"?c.intlLabel:{id:(0,u.Z)(`attribute.${l}`)};return t.createElement(j.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(ne.Z,{as:"h2",variant:"beta"},p({id:ka({actionType:e,forTarget:o,kind:i,step:r,modalType:a}),defaultMessage:"Add new field"},{type:qe()(p(y)),name:qe()(d),step:r})),t.createElement(ne.Z,{variant:"pi",textColor:"neutral600"},p({id:(0,u.Z)(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})))};rn.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},rn.propTypes={actionType:n().string,modalType:n().string,forTarget:n().string,kind:n().string,step:n().string,attributeType:n().string,attributeName:n().string,customField:n().object};const Ba=rn;var qt=s(48302),Ut=s(82562);const ln=({intlLabel:e,name:a,options:o,onChange:i,value:r})=>{const{formatMessage:l}=(0,m.Z)(),d=e.id?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,c=p=>{let y="";p==="true"&&(y=!0),p==="false"&&(y=!1),i({target:{name:a,value:y,type:"select-default-boolean"}})};return t.createElement(qt.P,{label:d,id:a,name:a,onChange:c,value:(r===null?"":r).toString()},o.map(({metadatas:{intlLabel:p,disabled:y,hidden:h},key:f,value:E})=>t.createElement(Ut.W,{key:f,value:E,disabled:y,hidden:h},p.defaultMessage)))};ln.defaultProps={value:null},ln.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().any};const wa=ln;var qa=s(15585);const Ua=(0,Ue.ZP)(j.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,qa.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${ne.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,dn=({intlLabel:e,name:a,onChange:o,radios:i,value:r})=>{const{formatMessage:l}=(0,m.Z)();return t.createElement(j.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(ne.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},l(e)),t.createElement(Ua,{gap:4,alignItems:"stretch"},i.map(d=>t.createElement("label",{htmlFor:d.value.toString(),key:d.value,className:"container"},t.createElement("input",{id:d.value.toString(),name:a,className:"option-input",checked:d.value===r,value:d.value,key:d.value,onChange:o,type:"radio"}),t.createElement(K.x,{className:"option",padding:4},t.createElement(j.k,null,t.createElement(K.x,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(j.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(ne.Z,{fontWeight:"bold"},l(d.title)),t.createElement(ne.Z,{variant:"pi",textColor:"neutral600"},l(d.description)))))))))};dn.defaultProps={radios:[]},dn.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,radios:n().arrayOf(n().shape({title:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}),description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}),value:n().any.isRequired})),value:n().oneOfType([n().string,n().bool]).isRequired};const un=dn,Qn=({onChange:e,name:a,...o})=>{const i=r=>{const l=r.target.value!=="false";e({target:{name:a,value:l,type:"boolean-radio-group"}})};return t.createElement(un,{...o,name:a,onChange:i})};Qn.propTypes={name:n().string.isRequired,onChange:n().func.isRequired};const Wa=Qn;var cn=s(16364),za=s(81154);const mn=({error:e,intlLabel:a,modifiedData:o,name:i,onChange:r,value:l})=>{const{formatMessage:d}=(0,m.Z)(),[c,p]=(0,t.useState)(!!l||l===0),y=a.id?d({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):i,h=o.type==="biginteger"?"text":"number",f=!o.type,E=e?d({id:e,defaultMessage:e}):"";return t.createElement(j.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(bt.X,{id:i,name:i,onValueChange:M=>{r({target:{name:i,value:M?h==="text"?"0":0:null}}),p(q=>!q)},value:c},y),c&&t.createElement(K.x,{paddingLeft:6,style:{maxWidth:"200px"}},h==="text"?t.createElement(cn.o,{"aria-label":y,disabled:f,error:E,id:i,name:i,onChange:r,value:l===null?"":l}):t.createElement(za.Y,{"aria-label":y,disabled:f,error:E,id:i,name:i,onValueChange:M=>{r({target:{name:i,value:M,type:h}})},value:l||0})))};mn.defaultProps={error:null,value:null},mn.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().oneOfType([n().string,n().object,n().bool,n().number])};const Va=mn,Jn=({onChange:e,...a})=>{const o=(0,g.lm)(),i=r=>{o({type:"info",message:{id:(0,u.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(r)};return t.createElement(un,{...a,onChange:i})};Jn.propTypes={onChange:n().func.isRequired};const Ha=Jn;var pn=s(1734),_n=s(17205),ue=s(59015);const gn=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:o,sortedContentTypesList:i}=(0,_e.Z)(),r=(0,Te.I0)(),l=i.filter(Ge),d=b()(o,[a,"plugin"],null),c=b()(o,[a,"schema","displayName"],"error");return t.createElement(_n.O,{id:"label",label:`${c}
    ${d?`(from: ${d})`:""}`},l.map(({uid:p,title:y,restrictRelationsTo:h,plugin:f})=>{const E=()=>{const M=f?`${f}_${y}`:y;r({type:ue.aG,target:{value:p,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:M,targetContentTypeAllowedRelations:h}})};return t.createElement(_n.s,{key:p,onClick:E},y,"\xA0",f&&t.createElement(t.Fragment,null,"(from: ",f,")"))}))};gn.defaultProps={target:null},gn.propTypes={oneThatIsCreatingARelationWithAnother:n().string.isRequired,target:n().string};const Ga=gn,fn=({disabled:e,error:a,header:o,isMain:i,name:r,onChange:l,oneThatIsCreatingARelationWithAnother:d,target:c,value:p})=>t.createElement(K.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(j.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?t.createElement(ne.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):t.createElement(Ga,{target:c,oneThatIsCreatingARelationWithAnother:d})),t.createElement(Je.i,{background:"neutral200"}),t.createElement(K.x,{padding:4},t.createElement(g.jm,{disabled:e,error:a?.id||null,intlLabel:{id:(0,u.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:r,onChange:l,type:"text",value:p})));fn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},fn.propTypes={disabled:n().bool,error:n().object,header:n().string,isMain:n().bool,name:n().string.isRequired,onChange:n().func,oneThatIsCreatingARelationWithAnother:n().string,target:n().string,value:n().string};const ea=fn;var Ka=s(39138),ta=s.n(Ka),Xa=s(23450),yn=s.n(Xa);const Ya=e=>(0,X.jsx)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,X.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.128 12.321a3.601 3.601 0 1 1 0-1.44H18.72v-2.4L24 11.6l-5.28 3.12v-2.4H7.128ZM6 11.6a2.4 2.4 0 1 1-4.8 0 2.4 2.4 0 0 1 4.8 0Z",fill:"#212134"})}),Qa=Ya,Ja=e=>(0,X.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,X.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM20.4 14a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2Z",fill:"#212134"}),(0,X.jsx)("path",{d:"M6.24 10.881H18v1.44H6.24v-1.44Z",fill:"#212134"})]}),_a=Ja,eo=e=>(0,X.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,X.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44Z",fill:"#212134"}),(0,X.jsx)("path",{d:"m5.871 10.699 8.347-6.176.86 1.162-8.347 6.177-.86-1.163ZM5.899 13.354l8.346 6.176.864-1.167-8.347-6.176-.863 1.167Z",fill:"#212134"}),(0,X.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.399a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM20.4 14.399a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM16.8 22.8a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM16.8 6a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2Z",fill:"#212134"})]}),to=eo,no=e=>(0,X.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,X.jsx)("path",{d:"M17.76 11.28H6v1.44h11.76v-1.44Z",fill:"#212134"}),(0,X.jsx)("path",{d:"M18.129 10.699 9.782 4.523l-.86 1.162 8.347 6.177.86-1.163ZM18.101 13.354 9.755 19.53l-.864-1.167 8.347-6.176.863 1.167Z",fill:"#212134"}),(0,X.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.399a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2ZM3.6 14.399a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2ZM7.2 22.8a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2ZM7.2 6a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2Z",fill:"#212134"})]}),ao=no,oo=e=>(0,X.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,X.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.4a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM3.6 14.4a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM20.4 22.8a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM20.4 6a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2Z",fill:"#212134"}),(0,X.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44Z",fill:"#212134"}),(0,X.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 22.8a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2ZM3.6 6a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2Z",fill:"#212134"}),(0,X.jsx)("path",{d:"M18.328 13.863 6.49 19.765l-.652-1.307 11.838-5.902.652 1.307ZM18.358 10.078 6.398 4.115l-.646 1.294 11.961 5.963.645-1.294Z",fill:"#212134"}),(0,X.jsx)("path",{d:"M18.323 18.83 6.252 12.813l-.643 1.29 12.071 6.019.643-1.29ZM18.136 5.228 6.207 11.176l-.653-1.311 11.928-5.948.654 1.311Z",fill:"#212134"})]}),so=oo,ro=e=>(0,X.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,X.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.132a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2Z",fill:"#212134"}),(0,X.jsx)("path",{d:"M6.24 11.011h13.44v1.44H6.24v-1.44Z",fill:"#212134"}),(0,X.jsx)("path",{d:"m5.872 10.43 8.347-6.176.86 1.163-8.347 6.176-.86-1.162ZM5.9 13.087l8.346 6.177.864-1.168-8.347-6.176-.864 1.167ZM18.72 8.613l5.28 3.12-5.28 3.12v-6.24Z",fill:"#212134"}),(0,X.jsx)("path",{d:"M12.72 2.633 18.82 2 16.43 7.649 12.72 2.633ZM12.72 21.307l6.1.633-2.389-5.649-3.711 5.016Z",fill:"#212134"})]}),io=ro,lo=(0,Ue.ZP)(K.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,uo=(0,Ue.ZP)(K.x)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,co=(0,Ue.ZP)(j.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,mo={oneWay:Qa,oneToOne:_a,oneToMany:to,manyToOne:ao,manyToMany:so,manyWay:io},hn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:o,target:i})=>{const r=(0,Te.I0)(),{formatMessage:l}=(0,m.Z)(),{contentTypes:d,modifiedData:c}=(0,_e.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],f=(e==="contentType"?b()(c,[e,"schema","kind"],""):e)==="collectionType"?p:y,E=o==="manyToOne",M=b()(d,[i,"schema","displayName"],"unknown"),P=E?M:a,D=E?a:M,q=yn()(P,o==="manyToMany"?2:1),R=b()(d,[i,"schema","restrictRelationsTo"],null),Z=yn()(D,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?t.createElement(j.k,{style:{flex:1}},t.createElement(lo,null,t.createElement(j.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(St.k,{tagName:"button"},t.createElement(j.k,{gap:3},f.map(L=>{const J=mo[L],ae=R===null||R.includes(L);return t.createElement(uo,{as:"button",isSelected:o===L,disabled:!ae,key:L,onClick:()=>{ae&&r({type:ue.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:i,value:L}})},padding:2,type:"button"},t.createElement(J,{key:L}))}))))),t.createElement(co,{justifyContent:"center"},t.createElement(ne.Z,null,ta()(q,{length:24}),"\xA0"),t.createElement(ne.Z,{textColor:"primary600"},l({id:(0,u.Z)(`relation.${o}`)}),"\xA0"),t.createElement(ne.Z,null,ta()(Z,{length:24})))):null};hn.defaultProps={relationType:null,target:null},hn.propTypes={naturePickerType:n().string.isRequired,oneThatIsCreatingARelationWithAnother:n().string.isRequired,relationType:n().string,target:n().string};const po=hn,na=({formErrors:e,mainBoxHeader:a,modifiedData:o,naturePickerType:i,onChange:r})=>{const l=(0,pn.Z)(o.relation,o.targetAttribute);return t.createElement(j.k,{style:{position:"relative"}},t.createElement(ea,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:r,value:o?.name||""}),t.createElement(po,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:a,relationType:l,target:o.target}),t.createElement(ea,{disabled:["oneWay","manyWay"].includes(l),error:e?.targetAttribute||null,name:"targetAttribute",onChange:r,oneThatIsCreatingARelationWithAnother:a,target:o.target,value:o?.targetAttribute||""}))};na.propTypes={formErrors:n().object.isRequired,mainBoxHeader:n().string.isRequired,modifiedData:n().object.isRequired,naturePickerType:n().string.isRequired,onChange:n().func.isRequired};const go=na;var aa=s(97406);const bn=({description:e,error:a,intlLabel:o,modifiedData:i,name:r,onChange:l,value:d})=>{const{formatMessage:c}=(0,m.Z)(),p=(0,t.useRef)(l),y=i?.displayName||"";(0,t.useEffect)(()=>{if(y){const M=(0,aa.Z)(y);try{const P=yn()(M,2);p.current({target:{name:r,value:P}})}catch{p.current({target:{name:r,value:M}})}}else p.current({target:{name:r,value:""}})},[y,r]);const h=a?c({id:a,defaultMessage:a}):"",f=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=c(o);return t.createElement(cn.o,{error:h,label:E,id:r,hint:f,name:r,onChange:l,value:d||""})};bn.defaultProps={description:null,error:null,value:null},bn.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const fo=bn;var yo=s(38855),ho=s(90608);const vn=({error:e,intlLabel:a,name:o,onChange:i,value:r})=>{const{formatMessage:l}=(0,m.Z)(),{allComponentsCategories:d}=(0,_e.Z)(),[c,p]=(0,t.useState)(d),y=e?l({id:e,defaultMessage:e}):"",h=l(a),f=M=>{i({target:{name:o,value:M,type:"select-category"}})},E=M=>{p(P=>[...P,M]),f(M)};return t.createElement(yo.X,{error:y,id:o,label:h,name:o,onChange:f,onCreateOption:E,value:r},c.map(M=>t.createElement(ho.O,{key:M,value:M},M)))};vn.defaultProps={error:null,value:null},vn.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const bo=vn,Cn=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:o,isCreating:i,isCreatingComponentWhileAddingAField:r,componentToCreate:l,name:d,onChange:c,targetUid:p,forTarget:y,value:h})=>{const{formatMessage:f}=(0,m.Z)(),E=e?f({id:e,defaultMessage:e}):"",M=f(a),{componentsGroupedByCategory:P,componentsThatHaveOtherComponentInTheirAttributes:D}=(0,_e.Z)(),q=["component","components"].includes(y);let R=Object.entries(P).reduce((Z,L)=>{const[J,ae]=L,be=ae.map(Ae=>({uid:Ae.uid,label:Ae.schema.displayName,categoryName:J}));return[...Z,...be]},[]);return o&&(R=R.filter(Z=>!D.includes(Z.uid))),q&&(R=R.filter(Z=>Z.uid!==p)),r&&(R=[{uid:h,label:l.displayName,categoryName:l.category}]),t.createElement(qt.P,{disabled:r||!i,error:E,label:M,id:d,name:d,onChange:Z=>{c({target:{name:d,value:Z,type:"select-category"}})},value:h||""},R.map(Z=>t.createElement(Ut.W,{key:Z.uid,value:Z.uid},`${Z.categoryName} - ${Z.label}`)))};Cn.defaultProps={componentToCreate:null,error:null},Cn.propTypes={componentToCreate:n().object,forTarget:n().string.isRequired,error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isAddingAComponentToAnotherComponent:n().bool.isRequired,isCreating:n().bool.isRequired,isCreatingComponentWhileAddingAField:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,targetUid:n().string.isRequired,value:n().string.isRequired};const vo=Cn,Tn=(e,a)=>e.find(({name:o})=>o===a),oa=({dynamicZoneTarget:e,intlLabel:a,name:o,onChange:i,value:r})=>{const{formatMessage:l}=(0,m.Z)(),{componentsGroupedByCategory:d,modifiedData:c}=(0,_e.Z)(),y=(Tn(c.contentType.schema.attributes,e)||{}).components||[],h=Object.keys(d).reduce((M,P)=>{const D=d[P].filter(({uid:q})=>!y.includes(q));return D.length>0&&(M[P]=D),M},{}),f=Object.entries(h).reduce((M,P)=>{const[D,q]=P,R={label:D,children:q.map(({uid:Z,schema:{displayName:L}})=>({label:L,value:Z}))};return M.push(R),M},[]),E=l({id:(0,u.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:r.length});return t.createElement(It.Q,{id:"select1",label:l(a),customizeContent:()=>E,name:o,onChange:M=>{i({target:{name:o,value:M,type:"select-components"}})},options:f,value:r||[]})};oa.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,dynamicZoneTarget:n().string.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().array.isRequired};const Co=oa,Mn=({intlLabel:e,error:a,modifiedData:o,name:i,onChange:r,options:l,value:d})=>{const{formatMessage:c}=(0,m.Z)(),p=c(e),y=a?c({id:a,defaultMessage:a}):"",h=f=>{r({target:{name:i,value:f,type:"select"}}),d&&o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}})};return t.createElement(qt.P,{error:y,label:p,id:i,name:i,onChange:h,value:d||""},l.map(({metadatas:{intlLabel:f,disabled:E,hidden:M},key:P,value:D})=>t.createElement(Ut.W,{key:P,value:D,disabled:E,hidden:M},c({id:f.id,defaultMessage:f.defaultMessage},f.values))))};Mn.defaultProps={error:void 0,value:""},Mn.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().string};const To=Mn,En=({intlLabel:e,error:a,modifiedData:o,name:i,onChange:r,options:l,value:d})=>{const{formatMessage:c}=(0,m.Z)(),p=c(e),y=a?c({id:a,defaultMessage:a}):"",h=f=>{r({target:{name:i,value:f,type:"select"}}),d&&(f==="biginteger"&&d!=="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})),["decimal","float","integer"].includes(f)&&d==="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})))};return t.createElement(qt.P,{error:y,label:p,id:i,name:i,onChange:h,value:d||""},l.map(({metadatas:{intlLabel:f,disabled:E,hidden:M},key:P,value:D})=>t.createElement(Ut.W,{key:P,value:D,disabled:E,hidden:M},c(f))))};En.defaultProps={error:void 0,value:""},En.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().string};const Mo=En,xn=({description:e,error:a,intlLabel:o,modifiedData:i,name:r,onChange:l,value:d})=>{const{formatMessage:c}=(0,m.Z)(),p=(0,t.useRef)(l),y=i?.displayName||"";(0,t.useEffect)(()=>{y?p.current({target:{name:r,value:(0,aa.Z)(y)}}):p.current({target:{name:r,value:""}})},[y,r]);const h=a?c({id:a,defaultMessage:a}):"",f=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=c(o);return t.createElement(cn.o,{error:h,label:E,id:r,hint:f,name:r,onChange:l,value:d||""})};xn.defaultProps={description:null,error:null,value:null},xn.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const Eo=xn,sa=({form:e,formErrors:a,genericInputProps:o,modifiedData:i,onChange:r})=>{const{formatMessage:l}=(0,m.Z)();return e.map((d,c)=>d.items.length===0?null:t.createElement(K.x,{key:c},d.sectionTitle&&t.createElement(K.x,{paddingBottom:4},t.createElement(ne.Z,{variant:"delta",as:"h3"},l(d.sectionTitle))),t.createElement(Lt.r,{gap:4},d.items.map((p,y)=>{const h=`${c}.${y}`,f=b()(i,p.name,""),E=Object.keys(a).find(P=>P===p.name),M=E?a[E].id:b()(a,[...p.name.split(".").filter(P=>P!=="componentToCreate"),"id"],null);return p.type==="pushRight"?t.createElement(ye.P,{col:p.size||6,key:p.name||h},t.createElement("div",null)):t.createElement(ye.P,{col:p.size||6,key:p.name||h},t.createElement(g.jm,{...p,...o,error:M,onChange:r,value:f}))}))))};sa.propTypes={form:n().arrayOf(n().object).isRequired,formErrors:n().object.isRequired,genericInputProps:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired};const ra=sa;var xo=s(64256);const Zn=({description:e,disabled:a,error:o,intlLabel:i,labelAction:r,name:l,onChange:d,placeholder:c,value:p})=>{const{formatMessage:y}=(0,m.Z)(),h=o?y({id:o,defaultMessage:o}):"",f=e?y({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=y(i),M=c?y({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",P=Array.isArray(p)?p.join(`
`):"",D=q=>{const R=q.target.value.split(`
`);d({target:{name:l,value:R}})};return t.createElement(xo.g,{disabled:a,error:h,label:E,labelAction:r,id:l,hint:f,name:l,onChange:D,placeholder:M,value:P},P)};Zn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Zn.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,labelAction:n().element,name:n().string.isRequired,onChange:n().func.isRequired,placeholder:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),value:n().oneOfType([n().array,n().string])};const Zo=Zn,Ro=(e,a)=>{const o=b()(e,["contentType","schema","kind"],"");return o==="singleType"||o===a.kind?!0:b()(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:d,targetAttribute:c})=>{const p=(0,pn.Z)(l,c);return d==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},Ao=(e="",a,o)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],r=e==="contentType",l=o.includes(a),d=!r&&!l;return r?[[...i,"uid"],["component","dynamiczone"]]:d?[i,["component"]]:[i]},ia=e=>e.reduce((a,o)=>{const i=o.items.reduce((r,l)=>(l.name&&r.push(l.name),r),[]);return[...a,...i]},[]);var T=s(87561),Et=s(97392);const Fo={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},la=/^[A-Za-z][-_0-9A-Za-z]*$/,So=e=>{const a={name:T.Z_().matches(la,g.I0.regex).test({name:"nameNotAllowed",message:g.I0.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(g.I0.required)};return T.Ry(a)},Lo=(e,a,o)=>{const i={displayName:T.Z_().test({name:"nameAlreadyUsed",message:g.I0.unique,test(r){if(!r)return!1;const l=(0,Et.N)(r,o);return!e.includes(l)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(r){return r?!a.includes(r?.trim()?.toLowerCase()):!1}}).required(g.I0.required),category:T.Z_().matches(la,g.I0.regex).required(g.I0.required),icon:T.Z_()};return T.Ry(i)},Rn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,u.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,u.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},xt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,u.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},S={default:{name:"default",type:"text",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,u.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,u.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,u.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,u.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,u.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Oo={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private]}]}},component({repeatable:e},a){return a==="1"?{sections:xt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private,S.max,S.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...S.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.unique,S.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.max,S.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...S.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.unique,S.maxLength,S.minLength,S.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,o)=>e.enum.indexOf(a)===o&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,u.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,u.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.unique,S.max,S.min,S.private]}]}},password(){return{sections:[{sectionTitle:null,items:[S.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.maxLength,S.minLength,S.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[S.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.maxLength,S.minLength,S.private]}]}},text(){return{sections:[{sectionTitle:null,items:[S.default,S.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.unique,S.maxLength,S.minLength,S.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...S.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.maxLength,S.minLength,S.private]}]}}},et={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},da={advanced:Oo,base:{component(e,a){if(a==="1"){const o=e.createComponent===!0?xt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Rn]},...o]}}return{sections:[{sectionTitle:null,items:[et,{name:"component",type:"select-component",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,u.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,u.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[et,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[et]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,u.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[et]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,u.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,u.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,u.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[et,{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[et]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[et]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,o){const i=o.filter(({type:r})=>["string","text"].includes(r)).map(({name:r})=>({key:r,value:r,metadatas:{intlLabel:{id:`${r}.no-override`,defaultMessage:r}}}));return{sections:[{sectionTitle:null,items:[{...et,placeholder:{id:(0,u.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,u.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}},No={sections:[{sectionTitle:null,items:[et]}]};var Po=s(44908),Do=s.n(Po),Io=s(46831),jo=s.n(Io);const An=e=>jo()(e,{decamelize:!1,lowercase:!1,separator:"_"});var $o=s(14841),Fn=s.n($o);const ua=/^[A-Za-z][_0-9A-Za-z]*$/,ca=e=>({name:"attributeNameAlreadyUsed",message:g.I0.unique,test(a){return a?!e.includes(a):!1}}),pr=(e,a,o)=>{const i=e?.schema?.attributes??{};return Object.keys(i).filter(r=>a?r!==o:!0)},Sn=e=>({name:"forbiddenAttributeName",message:(0,u.Z)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),C={default:()=>T.Z_().nullable(),max:()=>T.Rx().integer().nullable(),min:()=>T.Rx().integer().when("max",(e,a)=>e?a.max(e,(0,u.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>T.Rx().integer().positive((0,u.Z)("error.validation.positive")).nullable(),minLength:()=>T.Rx().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,u.Z)("error.validation.minSupMax")):a).nullable(),name(e,a){return T.Z_().test(ca(e)).test(Sn(a)).matches(ua,g.I0.regex).required(g.I0.required)},required:()=>T.O7(),type:()=>T.Z_().required(g.I0.required),unique:()=>T.O7().nullable()},Ln=(e,a)=>({name:C.name(e,a),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength(),regex:T.Z_().test({name:"isValidRegExpPattern",message:(0,u.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),On={name:"isMinSuperiorThanMax",message:(0,u.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN(Fn()(e))?!0:Fn()(a)>=Fn()(e)}},Nn={date(e,a){const o={name:C.name(e,a),type:C.type()};return T.Ry(o)},datetime(e,a){const o={name:C.name(e,a),type:C.type()};return T.Ry(o)},time(e,a){const o={name:C.name(e,a),type:C.type()};return T.Ry(o)},default(e,a){const o={name:C.name(e,a),type:C.type()};return T.Ry(o)},biginteger(e,a){const o={name:C.name(e,a),type:C.type(),default:T.Z_().nullable().matches(/^-?\d*$/),unique:C.unique(),required:C.required(),max:T.Z_().nullable().matches(/^-?\d*$/,g.I0.regex),min:T.Z_().nullable().test(On).matches(/^-?\d*$/,g.I0.regex)};return T.Ry(o)},boolean(e,a){const o={name:C.name(e,a),default:T.O7().nullable(),required:C.required(),unique:C.unique()};return T.Ry(o)},component(e,a){const o={name:C.name(e,a),type:C.type(),required:C.required(),max:C.max(),min:C.min(),component:T.Z_().required(g.I0.required)};return T.Ry(o)},decimal(e,a){const o={name:C.name(e,a),type:C.type(),default:T.Rx(),required:C.required(),max:T.Rx(),min:T.Rx().test(On)};return T.Ry(o)},dynamiczone(e,a){const o={name:C.name(e,a),type:C.type(),required:C.required(),max:C.max(),min:C.min()};return T.Ry(o)},email(e,a){const o={name:C.name(e,a),type:C.type(),default:T.Z_().email().nullable(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return T.Ry(o)},enumeration(e,a){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:T.Z_().test(ca(e)).test(Sn(a)).matches(o,g.I0.regex).required(g.I0.required),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),enum:T.IX().of(T.Z_()).min(1,g.I0.min).test({name:"areEnumValuesUnique",message:(0,u.Z)("error.validation.enum-duplicate"),test(r){return!Do()(r.map(An).filter((d,c,p)=>p.indexOf(d)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,u.Z)("error.validation.enum-empty-string"),test:r=>!r.map(An).some(l=>l==="")}).test({name:"doesMatchRegex",message:(0,u.Z)("error.validation.enum-regex"),test:r=>r.map(An).every(l=>o.test(l))}),enumName:T.Z_().nullable()};return T.Ry(i)},float(e,a){const o={name:C.name(e,a),type:C.type(),required:C.required(),default:T.Rx(),max:T.Rx(),min:T.Rx().test(On)};return T.Ry(o)},integer(e,a){const o={name:C.name(e,a),type:C.type(),default:T.Rx().integer(),unique:C.unique(),required:C.required(),max:C.max(),min:C.min()};return T.Ry(o)},json(e,a){const o={name:C.name(e,a),type:C.type(),required:C.required(),unique:C.unique()};return T.Ry(o)},media(e,a){const o={name:C.name(e,a),type:C.type(),multiple:T.O7(),required:C.required(),allowedTypes:T.IX().of(T.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return T.Ry(o)},password(e,a){const o={name:C.name(e,a),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return T.Ry(o)},relation(e,a,o,{initialData:i,modifiedData:r}){const l={name:C.name(e,a),target:T.Z_().required(g.I0.required),relation:T.Z_().required(),type:T.Z_().required(),targetAttribute:T.Vo(()=>{const d=(0,pn.Z)(r.relation,r.targetAttribute);if(d==="oneWay"||d==="manyWay")return T.Z_().nullable();let c=T.Z_().test(Sn(a)),y=[...o.map(({name:h})=>h),r.name].filter(h=>h!==i.targetAttribute);return c.matches(ua,g.I0.regex).test({name:"forbiddenTargetAttributeName",message:(0,u.Z)("error.validation.relation.targetAttribute-taken"),test(h){return h?!y.includes(h):!1}}).required(g.I0.required)})};return T.Ry(l)},richtext(e,a){const o={name:C.name(e,a),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return T.Ry(o)},string(e,a){const o=Ln(e,a);return T.Ry(o)},text(e,a){const o=Ln(e,a);return T.Ry(o)},uid(e,a){const o=Ln(e,a);return T.Ry(o)}},ma={name:"displayName",type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},Pn={advanced:{default(){const e=[{intlLabel:{id:(0,u.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,u.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}];return window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({intlLabel:{id:(0,u.Z)("contentType.reviewWorkflows.label"),defaultMessage:"Review Workflows"},description:{id:(0,u.Z)("contentType.reviewWorkflows.description"),defaultMessage:"Allows having content in different review stages"},name:"reviewWorkflows",type:"toggle-review-workflows",validations:{}}),{sections:[{items:e}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[ma,{description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[ma,{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,u.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,u.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,u.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},ko=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:o=[],pluralNames:i=[]})=>{const r={displayName:T.Z_().test({name:"nameAlreadyUsed",message:g.I0.unique,test(l){if(!l)return!1;const d=(0,Et.E)(l);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(g.I0.required),pluralName:T.Z_().test({name:"pluralNameAlreadyUsed",message:g.I0.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.pluralName-used"),test(l,d){return l?d.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(g.I0.required),singularName:T.Z_().test({name:"singularNameAlreadyUsed",message:g.I0.unique,test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.singularName-used"),test(l,d){return l?d.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(g.I0.required),draftAndPublish:T.O7(),kind:T.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:T.O7()};return T.Ry(r)},Dn={advanced:{default(){return{sections:xt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Rn]},...xt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Rn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},pa=(e,a)=>{e.forEach(o=>{if(!("sectionTitle"in o)){a[0].items.push(o);return}a.push(o)})},ga=(e,a)=>e.filter(({name:o})=>o!==a.initialData.name).map(({name:o})=>o),ut={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:o,reservedNames:i,schemaData:r,ctbFormsAPI:l}){const d=ga(e,r),c=Nn[a](d,i.attributes);return l.makeCustomFieldValidator(c,o,d,i.attributes,r)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[et]}];return e.options?.base&&pa(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:o,extensions:i,...r}){const l=[{sectionTitle:null,items:[]}],d=i.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:o,...r});if(e.options?.advanced&&pa(e.options.advanced,l),d){const c={sectionTitle:{id:(0,u.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:d};l.push(c)}return{sections:l}}}},attribute:{schema(e,a,o,i,r,l){const d=b()(e,["schema","attributes"],[]),c=ga(d,r);try{let p=Nn[a](c,o.attributes,i,r);return l.makeValidator(["attribute",a],p,c,o.attributes,i,r)}catch(p){return console.error("Error yup build schema",p),Nn.default(c,o.attributes)}},form:{advanced({data:e,type:a,step:o,extensions:i,...r}){try{const l=da.advanced[a](e,o).sections,d=i.getAdvancedForm(["attribute",a],{data:e,type:a,step:o,...r});return{sections:l.reduce((p,y)=>(y.sectionTitle===null?p.push(y):p.push({...y,items:[...y.items,...d]}),p),[])}}catch(l){return console.error(l),{sections:[]}}},base({data:e,type:a,step:o,attributes:i}){try{return da.base[a](e,o,i)}catch{return No}}}},contentType:{schema(e,a,o,i,r,l){const d=Object.values(l).map(E=>E.schema.singularName),c=Object.values(l).map(E=>b()(E,["schema","pluralName"],"")),p=a?e.filter(E=>E!==o):e,y=a?d.filter(E=>b()(l,[o,"schema","singularName"],"")!==E):d,h=a?c.filter(E=>b()(l,[o,"schema","pluralName"],"")!==E):c,f=ko({usedContentTypeNames:p,reservedModels:i.models,singularNames:y,pluralNames:h});return r.makeValidator(["contentType"],f,p,i.models,y,h)},form:{base({actionType:e}){return e==="create"?Pn.base.create():Pn.base.edit()},advanced({extensions:e}){const a=Pn.advanced.default().sections.map(i=>i.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...o]}]}}}},component:{schema(e,a,o,i=!1,r=null){const l=i?e.filter(d=>d!==r):e;return Lo(l,o.models,a)},form:{advanced(){return{sections:xt.advanced()}},base(){return{sections:xt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Dn.advanced.default()},base({data:e}){return b()(e,"createComponent",!1)?Dn.base.createComponent():Dn.base.default()}}},editCategory:{schema(e,a){const o=e.filter(i=>i!==a.name).map(i=>Qe()(i));return So(o)},form:{advanced:()=>({sections:[]}),base(){return Fo.base}}}};var fa=s(20573),Bo=s(88372);const wo=()=>e=>e[`${v.Z}_formModal`]||Bo.E,qo=()=>(0,fa.P1)(wo(),e=>e),Uo=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:i,actionType:r,attributeName:l,attributeType:d,customFieldUid:c,categoryName:p,dynamicZoneTarget:y,forTarget:h,modalType:f,isOpen:E,kind:M,step:P,targetUid:D}=(0,me.Z)(),q=(0,g.mZ)().get(c),R=(0,t.useRef)(),Z=(0,t.useMemo)(qo,[]),L=(0,Te.I0)(),J=(0,g.lm)(),ae=(0,Te.v9)(V=>Z(V),Te.wU),{push:be}=(0,x.k6)(),{trackUsage:Ae}=(0,g.rS)(),{formatMessage:W}=(0,m.Z)(),{getPlugin:Xe}=(0,g.j1)(),oe=Xe(v.Z).apis.forms,tt=oe.components.inputs,{addAttribute:se,addCustomFieldAttribute:Zt,addCreatedComponentToDynamicZone:Ze,allComponentsCategories:ee,changeDynamicZoneComponents:A,contentTypes:Rt,components:Pt,createSchema:At,deleteCategory:$n,deleteData:zt,editCategory:kn,editCustomFieldAttribute:Bn,submitData:wn,modifiedData:Fe,nestedComponents:qn,setModifiedData:Un,sortedContentTypesList:Wn,updateSchema:zn,reservedNames:rt}=(0,_e.Z)(),{componentToCreate:Dt,formErrors:it,initialData:Oe,isCreatingComponentWhileAddingAField:ct,modifiedData:B}=ae,O=h==="contentType"||h==="component"?[h]:[h,D];(0,t.useEffect)(()=>{if(E){const V=Wn.filter(Ge);f==="editCategory"&&Un(),r==="edit"&&f==="attribute"&&h==="contentType"&&Ae("willEditFieldOfContentType");const Be=[...O,"schema","attributes"],Ve=Tn(b()(Fe,Be,[]),y)||null;if(f==="editCategory"&&r==="edit"&&L({type:ue._H,modalType:f,actionType:r,data:{name:p}}),f==="contentType"&&r==="create"&&L({type:ue._H,modalType:f,actionType:r,data:{draftAndPublish:!0,reviewWorkflows:!1},pluginOptions:{}}),f==="contentType"&&r==="edit"){const{displayName:Q,draftAndPublish:ve,kind:He,pluginOptions:Se,pluralName:Hs,reviewWorkflows:Gs,singularName:Ks}=b()(Fe,[...O,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});L({type:ue._H,actionType:r,modalType:f,data:{displayName:Q,draftAndPublish:ve,kind:He,pluginOptions:Se,pluralName:Hs,reviewWorkflows:Gs??!1,singularName:Ks}})}if(f==="component"&&r==="edit"){const Q=b()(Fe,O,{});L({type:ue._H,actionType:r,modalType:f,data:{displayName:Q.schema.displayName,category:Q.category}})}if(f==="addComponentToDynamicZone"&&r==="edit"){const Q={...Ve,components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}};L({type:ue.VZ,attributeToEdit:Q})}if(d){const ve={...Tn(b()(Fe,Be,[]),l),name:l};d==="component"&&r==="edit"&&(ve.repeatable||te()(ve,"repeatable",!1)),L(f==="customField"?{type:ue.OY,customField:q,isEditing:r==="edit",modifiedDataToSetForEditing:ve,forTarget:h}:{type:ue.S0,attributeType:d,nameToSetForRelation:b()(V,["0","title"],"error"),targetUid:b()(V,["0","uid"],"error"),isEditing:r==="edit",modifiedDataToSetForEditing:ve,step:P,forTarget:h})}}else L({type:ue.c2})},[r,l,d,p,y,h,E,f]);const I=f==="contentType",z=f==="component",de=f==="attribute",$e=f==="customField",ke=d==="component"&&de,We=r==="create",nt=b()(B,"createComponent",!1)||ct,Ft=P==="1",Fa=f==="editCategory",Sa=f==="chooseAttribute",Vn=(0,Et.E)(B.displayName||""),Hn=b()(Fe,[...O,"schema","attributes"],null),Ns=async()=>{let V;const Be=nt&&P==="1"?b()(B,"componentToCreate",{}):B;if(I)V=ut.contentType.schema(Object.keys(Rt),r==="edit",b()(Fe,[...O,"uid"],null),rt,oe,Rt);else if(z)V=ut.component.schema(Object.keys(Pt),B.category||"",rt,r==="edit",b()(Fe,[...O,"uid"],null),oe);else if($e)V=ut.customField.schema({schemaAttributes:b()(Fe,[...O,"schema","attributes"],[]),attributeType:q.type,reservedNames:rt,schemaData:{modifiedData:B,initialData:Oe},ctbFormsAPI:oe,customFieldValidator:q.options?.validator});else if(ke&&nt&&Ft)V=ut.component.schema(Object.keys(Pt),b()(B,"componentToCreate.category",""),rt,oe);else if(de&&!Ft){const Ve=d==="relation"?"relation":B.type;let Q=[];if(Ve==="relation"){const ve=b()(B,["target"],null);Q=b()(Rt,[ve,"schema","attributes"],[]).filter(({name:Se})=>r!=="edit"?!0:Se!==Oe.targetAttribute)}V=ut.attribute.schema(b()(Fe,O,{}),Ve,rt,Q,{modifiedData:B,initialData:Oe},oe)}else if(Fa)V=ut.editCategory.schema(ee,Oe,oe);else if(Ft&&nt)V=ut.component.schema(Object.keys(Pt),b()(B,"componentToCreate.category",""),rt,oe);else return;await V.validate(Be,{abortEarly:!1})},La=(0,t.useCallback)(({target:{name:V,value:Be,type:Ve,...Q}})=>{const ve=["enumName","max","min","maxLength","minLength","regex","default"];let He;ve.includes(V)&&Be===""?He=null:He=Be;const Se=Object.assign({},it);V==="max"&&delete Se.min,V==="maxLength"&&delete Se.minLength,delete Se[V],L({type:ue.Ey,errors:Se}),L({type:ue.P0,keys:V.split("."),value:He,...Q})},[L,it]),ze=async(V,Be=We)=>{V.preventDefault();try{await Ns(),Is(Be);const Ve=h==="components"?D:Vn;if(I)if(We)At({...B,kind:M},f,Vn),be({pathname:`/plugins/${v.Z}/content-types/${Vn}`}),a({forTarget:h,targetUid:Ve});else{Ro(Fe,B)?(e(),wn(B)):J({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(f==="component")if(We){const Q=(0,Et.N)(B.displayName,B.category),{category:ve,...He}=B;At(He,"component",Q,ve),be({pathname:`/plugins/${v.Z}/component-categories/${ve}/${Q}`}),a({forTarget:h,targetUid:Q})}else{zn(B,f,D),e();return}else if(Fa){if(Qe()(Oe.name)===Qe()(B.name)){e();return}kn(Oe.name,B);return}else if($e){const Q={attributeToSet:{...B,customField:c},forTarget:h,targetUid:D,initialAttribute:Oe};r==="edit"?Bn(Q):Zt(Q),Be?a({forTarget:h,targetUid:Ve}):e();return}else if(de&&!nt){if(d==="dynamiczone"){se(B,h,D,r==="edit",Oe),We?(L({type:ue.I}),R.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:B.name})):e();return}if(!ke){se(B,h,D,r==="edit",Oe),Be?a({forTarget:h,targetUid:Ve}):e();return}if(Ft){i(),L({type:ue.yC,forTarget:h});return}se(B,h,D,r==="edit",Oe,!0),Be?a({forTarget:h,targetUid:D}):e()}else if(de&&nt){if(Ft){Ae("willCreateComponentFromAttributesModal"),L({type:ue.oF,forTarget:h}),i();return}const{category:Q,type:ve,...He}=Dt,Se=(0,Et.N)(Dt.displayName,Q);At(He,ve,Se,Q,nt),se(B,h,D,!1),L({type:ue.c2}),Be?a({forTarget:"components",targetUid:Se}):e();return}else{if(Ft)if(nt){const{category:Q,type:ve,...He}=B.componentToCreate,Se=(0,Et.N)(B.componentToCreate.displayName,Q);At(He,ve,Se,Q,nt),Ze(y,[Se]),a({forTarget:"components",targetUid:Se})}else A(y,B.components),e();else console.error("This case is not handled");return}L({type:ue.c2})}catch(Ve){const Q=(0,g.CJ)(Ve);console.log({err:Ve,errors:Q}),L({type:ue.Ey,errors:Q})}},Ps=()=>{window.confirm(W({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),L({type:ue.c2}))},Oa=()=>{mt()(B,Oe)?(e(),L({type:ue.c2})):Ps()},Ds=V=>{if(V==="advanced"){if(I){Ae("didSelectContentTypeSettings");return}h==="contentType"&&Ae("didSelectContentTypeFieldSettings")}},Is=V=>{f==="attribute"&&h==="contentType"&&d!=="dynamiczone"&&V&&Ae("willAddMoreFieldToContentType")},js=()=>!!(f==="editCategory"||f==="component"||lt()(B,"createComponent")),$s=Ao(h,D,qn);if(!E||!f)return null;const Na=b()(ut,[f,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),ks=h==="components"||h==="component",Pa={customInputs:{"allowed-types-select":Gt,"boolean-radio-group":Wa,"checkbox-with-number-field":Va,"content-type-radio-group":Ha,"radio-group":un,relation:go,"select-category":bo,"select-component":vo,"select-components":Co,"select-default-boolean":wa,"select-number":Mo,"select-date":To,"toggle-draft-publish":le,"toggle-review-workflows":dt,"text-plural":fo,"text-singular":Eo,"textarea-enum":Zo,...tt},componentToCreate:Dt,dynamicZoneTarget:y,formErrors:it,isAddingAComponentToAnotherComponent:ks,isCreatingComponentWhileAddingAField:ct,mainBoxHeader:b()(Fe,[...O,"schema","displayName"],""),modifiedData:B,naturePickerType:h,isCreating:We,targetUid:D,forTarget:h},Da=Na.advanced({data:B,type:d,step:P,actionType:r,attributes:Hn,extensions:oe,forTarget:h,contentTypeSchema:Fe.contentType||{},customField:q}).sections,Ia=Na.base({data:B,type:d,step:P,actionType:r,attributes:Hn,extensions:oe,forTarget:h,contentTypeSchema:Fe.contentType||{},customField:q}).sections,Bs=ia(Ia),ws=ia(Da),qs=Object.keys(it).some(V=>Bs.includes(V)),Us=Object.keys(it).some(V=>ws.includes(V)),Ws=b()(Rt,[D,"schema","kind"]),zs=()=>r==="edit"&&Hn.every(({name:V})=>V!==B?.name),Vs=()=>{zs()&&Ae("didEditFieldNameOnContentType")};return t.createElement(G.P,{onClose:Oa,labelledBy:"title"},t.createElement(ja,{actionType:r,attributeName:l,categoryName:p,contentTypeKind:M,dynamicZoneTarget:y,modalType:f,forTarget:h,targetUid:D,attributeType:d,customFieldUid:c}),Sa&&t.createElement(nn,{attributes:$s,forTarget:h,kind:Ws||"collectionType"}),!Sa&&t.createElement("form",{onSubmit:ze},t.createElement(ge.f,null,t.createElement(Me.v,{label:"todo",id:"tabs",variant:"simple",ref:R,onTabChange:V=>{V===1&&Ds("advanced")}},t.createElement(j.k,{justifyContent:"space-between"},t.createElement(Ba,{actionType:r,forTarget:h,kind:M,step:P,modalType:f,attributeType:d,attributeName:l,customField:q}),t.createElement(re.m,null,t.createElement(re.O,{hasError:qs},W({id:(0,u.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(re.O,{hasError:Us,disabled:js()},W({id:(0,u.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(Je.i,null),t.createElement(K.x,{paddingTop:6},t.createElement(De.n,null,t.createElement(De.x,null,t.createElement(j.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(ra,{form:Ia,formErrors:it,genericInputProps:Pa,modifiedData:B,onChange:La}))),t.createElement(De.x,null,t.createElement(j.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(ra,{form:Da,formErrors:it,genericInputProps:Pa,modifiedData:B,onChange:La}))))))),t.createElement(vt.m,{endActions:t.createElement($a,{deleteCategory:$n,deleteContentType:zt,deleteComponent:zt,categoryName:Oe.name,isAttributeModal:f==="attribute",isCustomFieldModal:f==="customField",isComponentToDzModal:f==="addComponentToDynamicZone",isComponentAttribute:d==="component",isComponentModal:f==="component",isContentTypeModal:f==="contentType",isCreatingComponent:r==="create",isCreatingDz:r==="create",isCreatingComponentAttribute:B.createComponent||!1,isCreatingComponentInDz:B.createComponent||!1,isCreatingComponentWhileAddingAField:ct,isCreatingContentType:r==="create",isEditingAttribute:r==="edit",isDzAttribute:d==="dynamiczone",isEditingCategory:f==="editCategory",isInFirstComponentStep:P==="1",onSubmitAddComponentAttribute:ze,onSubmitAddComponentToDz:ze,onSubmitCreateComponent:ze,onSubmitCreateContentType:ze,onSubmitCreateDz:ze,onSubmitEditAttribute:ze,onSubmitEditCategory:ze,onSubmitEditComponent:ze,onSubmitEditContentType:ze,onSubmitEditCustomFieldAttribute:ze,onSubmitEditDz:ze,onClickFinish:Vs}),startActions:t.createElement(_.z,{variant:"tertiary",onClick:Oa},W({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},ya=e=>e.reduce((a,o)=>(a[o.uid]=o,a),{}),Wo=(e,a,o,i)=>{const r=a.reduce((c,p)=>{const y=b()(o,p,{});return c[p]=y,c},{});return{[i?"contentType":"component"]:e,components:r}},zo=(e,a)=>{const o=Object.keys(e).map(i=>b()(e,[i,...a],""));return(0,Pe.Z)(o)};var Vo=s(19525);const Ho=e=>{const a=Object.keys(e).reduce((o,i)=>{const r=e?.[i]?.schema?.attributes??[],l=Go(r);return[...o,...l]},[]);return(0,Pe.Z)(a)},Go=e=>e.reduce((a,o)=>{const{type:i,component:r}=o;return i==="component"&&a.push(r),a},[]),ha=Ho,Ko=e=>{const a=Object.keys(e).reduce((o,i)=>{const r=b()(e,[i],{}),l=r.uid;return Xo(r)&&o.push(l),o},[]);return(0,Pe.Z)(a)},Xo=e=>b()(e,["schema","attributes"],[]).some(o=>{const{type:i}=o;return i==="component"});var Yo=s(57557),ba=s.n(Yo),Qo=s(89734),Jo=s.n(Qo),_o=s(68929),es=s.n(_o);const ts=(e,a)=>{const o=Object.keys(e).filter(i=>{const r=b()(e,i,{}),l=b()(a,i,{}),d=b()(r,["isTemporary"],!1),c=!mt()(r,l);return d||c});return(0,Pe.Z)(o)},ns=(e,a)=>{const o=Ca(b()(e,"schema.attributes",[]),a),i=b()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},ba()(e.schema,"attributes"),{attributes:o})},va=(e,a=!1)=>{const o=b()(e,"uid",null),i=Ca(b()(e,"schema.attributes",[]),o),r=a?{category:b()(e,"category","")}:{},l=Object.assign(r,ba()(e.schema,"attributes"),{attributes:i});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},Ca=(e,a)=>e.reduce((o,{name:i,...r})=>{const l=r,d=l.target===a,c=l.type==="relation",p=b()(l,"targetAttribute",null);if(!d)if(c){const y=Object.assign({},l,{targetAttribute:Ta(p)});o[i]=Wt(y)}else o[i]=Wt(l);if(d){const y=l.target,h=Object.assign({},l,{target:y,targetAttribute:Ta(p)});o[i]=Wt(h)}if(l.customField){const y={...l,type:"customField"};o[i]=Wt(y)}return o},{}),Ta=e=>e==="-"?null:e,Wt=e=>Object.keys(e).reduce((a,o)=>(e[o]!==null&&o!=="plugin"&&(a[o]=e[o]),a),{}),as=(e,a,o,i=!1)=>ts(e,a).map(d=>{const c=b()(e,d,{});return ns(c,o,i)}),os=e=>Jo()(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${v.Z}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>es()(a.title)),Ma="did-not-kill-server",ss="server is down";function Nt(e,a){return new Promise(o=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(ss);if(!a)throw new Error(Ma);o(e)}).catch(i=>{setTimeout(()=>Nt(e,i.message!==Ma).then(o),100)})})}const rs=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0);var xe=s(92407),is=s(87431);const ls=()=>e=>e[`${v.Z}_dataManagerProvider`]||is.E,ds=()=>(0,fa.P1)(ls(),e=>e),us=e=>Object.keys(e).reduce((a,o)=>{const i=e[o].schema;return a[o]={...e[o],schema:{...i,attributes:cs(i.attributes)}},a},{}),cs=e=>Object.keys(e).reduce((a,o)=>(a.push({...e[o],name:o}),a),[]),Ea=us,In=({children:e,components:a,contentTypes:o,isLoading:i,isLoadingForDataToBeSet:r,initialData:l,modifiedData:d,reservedNames:c})=>{const p=(0,Te.I0)(),y=(0,g.lm)(),{lockAppWithAutoreload:h,unlockAppWithAutoreload:f}=(0,g.Vu)(),{setCurrentStep:E}=(0,g.c1)(),{getPlugin:M}=(0,g.j1)(),{apis:P}=M(v.Z),{autoReload:D}=(0,g.L7)(),{formatMessage:q}=(0,m.Z)(),{trackUsage:R}=(0,g.rS)(),{refetchPermissions:Z}=(0,g.vn)(),{pathname:L}=(0,x.TH)(),{onCloseModal:J}=(0,me.Z)(),ae=(0,x.$B)(`/plugins/${v.Z}/content-types/:uid`),be=(0,x.$B)(`/plugins/${v.Z}/component-categories/:categoryUid/:componentUid`),Ae=(0,g.kY)(),{put:W,post:Xe,del:ie}=Ae,oe=(0,t.useRef)();oe.current=q;const tt=D,se=ae!==null,Zt=se?"contentType":"component",Ze=se?b()(ae,"params.uid",null):b()(be,"params.componentUid",null),ee=(0,t.useRef)(),A=se?"content-types":"components";ee.current=async()=>{try{const[{data:{data:O}},{data:{data:I}},{data:z}]=await Promise.all(["components","content-types","reserved-names"].map(nt=>Ae.get(`/${v.Z}/${nt}`))),de=ya(O),$e=Ea(de),ke=ya(I),We=Ea(ke);p({type:xe.Id,components:$e,contentTypes:We,reservedNames:z})}catch(O){console.error({err:O}),y({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(ee.current(),()=>{p({type:xe.Zl})}),[]),(0,t.useEffect)(()=>{!i&&Ze&&rt()},[i,L,Ze]),(0,t.useEffect)(()=>{D||y({type:"info",message:{id:(0,u.Z)("notification.info.autoreaload-disable")}})},[D,y]);const Rt=(O,I,z,de=!1,$e,ke=!1)=>{const We=de?xe.JO:xe.gz;p({type:We,attributeToSet:O,forTarget:I,targetUid:z,initialAttribute:$e,shouldAddComponentToData:ke})},Pt=({attributeToSet:O,forTarget:I,targetUid:z,initialAttribute:de})=>{p({type:xe.Ir,attributeToSet:O,forTarget:I,targetUid:z,initialAttribute:de})},At=({attributeToSet:O,forTarget:I,targetUid:z,initialAttribute:de})=>{p({type:xe.Ly,attributeToSet:O,forTarget:I,targetUid:z,initialAttribute:de})},$n=(O,I)=>{p({type:xe.Uu,dynamicZoneTarget:O,componentsToAdd:I})},zt=(O,I,z,de,$e=!1)=>{const ke=I==="contentType"?xe.Sh:xe.VR;p({type:ke,data:O,componentCategory:de,schemaType:I,uid:z,shouldAddComponentToData:$e})},kn=(O,I)=>{p({type:xe.o_,dynamicZoneTarget:O,newComponents:I})},Bn=(O,I,z="")=>{const de=O==="components"?xe.lw:xe.ai;O==="contentType"&&R("willDeleteFieldOfContentType"),p({type:de,mainDataKey:O,attributeToRemoveName:I,componentUid:z})},wn=async O=>{try{const I=`/${v.Z}/component-categories/${O}`,z=window.confirm(q({id:(0,u.Z)("popUpWarning.bodyMessage.category.delete")}));J(),z&&(h(),await ie(I),await Nt(!0),await f(),await ct())}catch(I){console.error({err:I}),y({type:"warning",message:{id:"notification.error"}})}finally{f()}},Fe=async()=>{try{const O=`/${v.Z}/${A}/${Ze}`,I=b()(d,[Zt,"isTemporary"],!1),z=window.confirm(q({id:(0,u.Z)(`popUpWarning.bodyMessage.${se?"contentType":"component"}.delete`)}));if(J(),z){if(I){p({type:xe.Ap});return}h(),await ie(O),await Nt(!0),await f(),await ct()}}catch(O){console.error({err:O}),y({type:"warning",message:{id:"notification.error"}})}finally{f()}},qn=async(O,I)=>{try{const z=`/${v.Z}/component-categories/${O}`;J(),h(),await W(z,I),await Nt(!0),await f(),await ct()}catch(z){console.error({err:z}),y({type:"warning",message:{id:"notification.error"}})}finally{f()}},Un=()=>{const O=Object.assign({},a,d.components);if(!se){const z=b()(d,"component",{});te()(O,b()(z,["uid"],""),z)}const I=Ko(O);return(0,Pe.Z)(I)},Wn=()=>{const O=ha(a),I=ha(d.components||{});return(0,Pe.Z)([...I,...O])},zn=(O,I)=>{p({type:xe.NG,dzName:O,componentToRemoveIndex:I})},rt=()=>{const O=se?o:a,I=b()(O,Ze,{schema:{attributes:[]}}),z=(0,Vo.Z)(I.schema.attributes,a),de=Wo(I,z,a,se),$e=b()(I,"isTemporary",!1)&&ce()(b()(I,"schema.attributes",[]))===0;p({type:xe.xx,schemaToSet:de,hasJustCreatedSchema:$e})},Dt=(0,t.useMemo)(()=>{const O=se?o:a;return Ze==="create-content-type"?!1:!Object.keys(O).includes(Ze)&&!i},[a,o,Ze,se,i]),it=(0,t.useMemo)(()=>{const O=Object.keys(o).filter(I=>b()(o,[I,"schema","visible"],!0)).sort();return b()(O,"0","create-content-type")},[o]);if(Dt)return t.createElement(x.l_,{to:`/plugins/${v.Z}/content-types/${it}`});const Oe=async O=>{try{const I=b()(d,[Zt,"isTemporary"],!1),z={components:as(d.components,a,Ze,I)};if(se){const ke=P.forms.mutateContentTypeSchema({...va(d.contentType),...O},l.contentType);if(!rs(ke)){y({type:"warning",message:{id:(0,u.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}z.contentType=ke,R("willSaveContentType")}else z.component=va(d.component,!0),R("willSaveComponent");h();const de=`/${v.Z}/${A}`,$e=I?de:`${de}/${Ze}`;if(I?await Xe($e,z):await W($e,z),await Nt(!0),await f(),I&&(l.contentType?.schema.kind==="collectionType"||l.contentType?.schema.kind==="singleType")&&E("contentTypeBuilder.success"),se){R("didSaveContentType");const ke=b()(z,["contentType","schema","name"],""),We=b()(l,["contentType","schema","name"],"");!I&&ke!==We&&R("didEditNameOfContentType")}else R("didSaveComponent");await ct()}catch(I){se||R("didNotSaveComponent"),console.error({err:I.response}),y({type:"warning",message:{id:"notification.error"}})}finally{f()}},ct=async()=>{await Z()},B=(O,I,z)=>{p({type:xe.bi,data:O,schemaType:I,uid:z})};return t.createElement(Re.Z.Provider,{value:{addAttribute:Rt,addCustomFieldAttribute:Pt,addCreatedComponentToDynamicZone:$n,allComponentsCategories:zo(a,["category"]),changeDynamicZoneComponents:kn,components:a,componentsGroupedByCategory:fe()(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:Un(),contentTypes:o,createSchema:zt,deleteCategory:wn,deleteData:Fe,editCategory:qn,editCustomFieldAttribute:At,isInDevelopmentMode:tt,initialData:l,isInContentTypeView:se,modifiedData:d,nestedComponents:Wn(),removeAttribute:Bn,removeComponentFromDynamicZone:zn,reservedNames:c,setModifiedData:rt,sortedContentTypesList:os(o),submitData:Oe,updateSchema:B}},r?t.createElement(g.dO,null):t.createElement(t.Fragment,null,e,tt&&t.createElement(Uo,null)))};In.defaultProps={components:{}},In.propTypes={children:n().node.isRequired,components:n().object,contentTypes:n().object.isRequired,isLoading:n().bool.isRequired,isLoadingForDataToBeSet:n().bool.isRequired,initialData:n().object.isRequired,modifiedData:n().object.isRequired,reservedNames:n().object.isRequired};const ms=ds(),ps=(0,Te.$j)(ms,null),gs=(0,Le.compose)(ps)((0,t.memo)(In));var fs=s(98422);const xa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Za=({children:e})=>{const[a,o]=(0,t.useState)(xa),{trackUsage:i}=(0,g.rS)(),r=({attributeType:R,customFieldUid:Z})=>{o(L=>({...L,actionType:"create",modalType:"customField",attributeType:R,customFieldUid:Z}))},l=({attributeType:R,step:Z})=>{a.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:R}),o(L=>({...L,actionType:"create",modalType:"attribute",step:Z,attributeType:R}))},d=({dynamicZoneTarget:R,targetUid:Z})=>{o(L=>({...L,dynamicZoneTarget:R,targetUid:Z,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:R,targetUid:Z})=>{o(L=>({...L,actionType:"create",forTarget:R,targetUid:Z,modalType:"chooseAttribute",isOpen:!0}))},p=R=>{o(Z=>({...Z,...R,isOpen:!0}))},y=R=>{o(Z=>({...Z,categoryName:R,actionType:"edit",modalType:"editCategory",isOpen:!0}))},h=({forTarget:R,targetUid:Z,attributeName:L,attributeType:J,customFieldUid:ae})=>{o(be=>({...be,modalType:"customField",customFieldUid:ae,actionType:"edit",forTarget:R,targetUid:Z,attributeName:L,attributeType:J,isOpen:!0}))},f=({forTarget:R,targetUid:Z,attributeName:L,attributeType:J,step:ae})=>{o(be=>({...be,modalType:"attribute",actionType:"edit",forTarget:R,targetUid:Z,attributeName:L,attributeType:J,step:ae,isOpen:!0}))},E=({modalType:R,forTarget:Z,targetUid:L,kind:J})=>{o(ae=>({...ae,modalType:R,actionType:"edit",forTarget:Z,targetUid:L,kind:J,isOpen:!0}))},M=()=>{o(xa)},P=({forTarget:R,targetUid:Z})=>{o(L=>({...L,forTarget:R,targetUid:Z,modalType:"chooseAttribute"}))},D=()=>{o(R=>({...R,attributeType:"component",modalType:"attribute",step:"2"}))},q=({dynamicZoneTarget:R})=>{o(Z=>({...Z,dynamicZoneTarget:R,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement(fs.Z.Provider,{value:{...a,onClickSelectField:l,onClickSelectCustomField:r,onCloseModal:M,onNavigateToChooseAttributeModal:P,onNavigateToAddCompoToDZModal:q,onOpenModalAddComponentsToDZ:d,onNavigateToCreateComponentStep2:D,onOpenModalAddField:c,onOpenModalCreateSchema:p,onOpenModalEditCategory:y,onOpenModalEditField:f,onOpenModalEditCustomField:h,onOpenModalEditSchema:E,setFormModalNavigationState:o}},e)};Za.propTypes={children:n().node.isRequired};const ys=Za,hs=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,76761))),bs=()=>{const{url:e}=(0,x.$B)(),{categoryUid:a}=(0,x.UO)();return t.createElement(t.Suspense,{fallback:t.createElement(g.dO,null)},t.createElement(x.rs,null,t.createElement(x.AW,{path:`${e}/:componentUid`},t.createElement(hs,{categoryId:a}))))};var vs=s(39785),Cs=s(53192),Ts=s(60984),Ms=s(34446),Es=s(29489),xs=s(12645),Zs=s(2504);const Rs=(0,Ue.ZP)(K.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,As=Ue.ZP.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Fs=Ue.ZP.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,jn=({label:e,children:a,id:o})=>{const[i,r]=(0,t.useState)(!0),l=(0,Zs.M)(o),d=()=>{r(c=>!c)};return t.createElement(K.x,null,t.createElement(Rs,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4},t.createElement(j.k,{justifyContent:"space-between"},t.createElement(As,{onClick:d,"aria-expanded":i,"aria-controls":l},t.createElement(Fs,{rotated:i},t.createElement(xs.Z,{"aria-hidden":!0})),t.createElement(K.x,{paddingLeft:2},t.createElement(ne.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800"},e))))),i&&t.createElement("ul",{id:l},t.Children.map(a,(c,p)=>t.createElement("li",{key:p},c))))};jn.defaultProps={id:void 0},jn.propTypes={children:F.node.isRequired,id:F.string,label:F.string.isRequired};var Ra=s(52305);const Ss=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:o,isInDevelopmentMode:i,sortedContentTypesList:r,modifiedData:l,initialData:d}=(0,_e.Z)(),c=(0,g.lm)(),{trackUsage:p}=(0,g.rS)(),[y,h]=(0,t.useState)(""),{onOpenModalCreateSchema:f,onOpenModalEditCategory:E}=(0,me.Z)(),{locale:M}=(0,m.Z)(),{startsWith:P}=(0,g.L0)(M,{sensitivity:"base"}),D=(0,g.Xe)(M,{sensitivity:"base"}),q=!Object.keys(o).some(W=>o[W].isTemporary===!0)&&!Object.keys(e).some(W=>e[W].isTemporary===!0)&&mt()(l,d),R=()=>{q?(p("willCreateContentType"),f({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):J()},Z=()=>{q?(p("willCreateSingleType"),f({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):J()},L=()=>{q?(p("willCreateComponent"),f({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):J()},J=()=>{c({type:"info",message:{id:(0,u.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},ae=Object.entries(a).map(([W,Xe])=>({name:W,title:W,isEditable:i,onClickEdit(ie,oe){ie.stopPropagation(),q?E(oe.name):J()},links:Xe.map(ie=>({name:ie.uid,to:`/plugins/${v.Z}/component-categories/${W}/${ie.uid}`,title:ie.schema.displayName})).sort((ie,oe)=>D.compare(ie.title,oe.title))})).sort((W,Xe)=>D.compare(W.title,Xe.title)),be=r.filter(W=>W.visible);return{menu:[{name:"models",title:{id:`${(0,u.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,u.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:R},links:be.filter(W=>W.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,u.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,u.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:Z},links:be.filter(W=>W.kind==="singleType")},{name:"components",title:{id:`${(0,u.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,u.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:L},links:ae}].map(W=>W.links.some(ie=>Array.isArray(ie.links))?{...W,links:W.links.map(ie=>{const oe=ie.links.filter(tt=>P(tt.title,y));return oe.length===0?null:{...ie,links:oe.sort((tt,se)=>D.compare(tt.title,se.title))}}).filter(Boolean)}:{...W,links:W.links.filter(ie=>P(ie.title,y)).sort((ie,oe)=>D.compare(ie.title,oe.title))}),searchValue:y,onSearchChange:h}},Ls=()=>{const{menu:e,searchValue:a,onSearchChange:o}=Ss(),{formatMessage:i}=(0,m.Z)();return t.createElement(Cs.m,{ariaLabel:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(Ts.p,{searchable:!0,value:a,onClear:()=>o(""),onChange:r=>o(r.target.value),label:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),t.createElement(Ms.Z,null,e.map(r=>t.createElement(t.Fragment,{key:r.name},t.createElement(Es.D,{label:i({id:r.title.id,defaultMessage:r.title.defaultMessage}),collapsable:!0,badgeLabel:r.links.length.toString()},r.links.map(l=>l.links?t.createElement(jn,{key:l.name,label:qe()(l.title)},l.links.map(d=>t.createElement(Ra.E,{as:he.OL,to:d.to,active:d.active,key:d.name,isSubSectionChild:!0},qe()(i({id:d.name,defaultMessage:d.title}))))):t.createElement(Ra.E,{as:he.OL,to:l.to,active:l.active,key:l.name},qe()(i({id:l.name,defaultMessage:l.title}))))),r.customLink&&t.createElement(K.x,{paddingLeft:7},t.createElement(vs.A,{onClick:r.customLink.onClick,startIcon:t.createElement(kt.J,{as:ot.Z,width:(0,g.Q1)(8),height:(0,g.Q1)(8)}),marginTop:2},i({id:r.customLink.id,defaultMessage:r.customLink.defaultMessage})))))))},Aa=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,76761))),Os=()=>{const{formatMessage:e}=(0,m.Z)(),a=e({id:`${v.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,g.c1)(),i=(0,t.useRef)(o);return(0,t.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),t.createElement(g.O4,{permissions:k.Z.main},t.createElement(N.q,{title:a}),t.createElement(ys,null,t.createElement(gs,null,t.createElement($.A,{sideNav:t.createElement(Ls,null)},t.createElement(t.Suspense,{fallback:t.createElement(g.dO,null)},t.createElement(x.rs,null,t.createElement(x.AW,{path:`/plugins/${v.Z}/content-types/create-content-type`,component:Aa}),t.createElement(x.AW,{path:`/plugins/${v.Z}/content-types/:uid`,component:Aa}),t.createElement(x.AW,{path:`/plugins/${v.Z}/component-categories/:categoryUid`,component:bs})))))))}},5002:(H,U,s)=>{"use strict";s.d(U,{Z:()=>N});var t=s(96124);const N=m=>`${t.Z}.${m}`},89881:(H,U,s)=>{var t=s(47816),x=s(99291),N=x(t);H.exports=N},23933:(H,U,s)=>{var t=s(44239),x=s(37005),N="[object RegExp]";function m(g){return x(g)&&t(g)==N}H.exports=m},69199:(H,U,s)=>{var t=s(89881),x=s(98612);function N(m,g){var $=-1,k=x(m)?Array(m.length):[];return t(m,function(v,F,n){k[++$]=g(v,F,n)}),k}H.exports=N},82689:(H,U,s)=>{var t=s(29932),x=s(97786),N=s(67206),m=s(69199),g=s(71131),$=s(7518),k=s(85022),v=s(6557),F=s(1469);function n(w,b,Ne){b.length?b=t(b,function(te){return F(te)?function(pe){return x(pe,te.length===1?te[0]:te)}:te}):b=[v];var fe=-1;b=t(b,$(N));var Ce=m(w,function(te,pe,ce){var Te=t(b,function(Le){return Le(te)});return{criteria:Te,index:++fe,value:te}});return g(Ce,function(te,pe){return k(te,pe,Ne)})}H.exports=n},71131:H=>{function U(s,t){var x=s.length;for(s.sort(t);x--;)s[x]=s[x].value;return s}H.exports=U},26393:(H,U,s)=>{var t=s(33448);function x(N,m){if(N!==m){var g=N!==void 0,$=N===null,k=N===N,v=t(N),F=m!==void 0,n=m===null,w=m===m,b=t(m);if(!n&&!b&&!v&&N>m||v&&F&&w&&!n&&!b||$&&F&&w||!g&&w||!k)return 1;if(!$&&!v&&!b&&N<m||b&&g&&k&&!$&&!v||n&&g&&k||!F&&k||!w)return-1}return 0}H.exports=x},85022:(H,U,s)=>{var t=s(26393);function x(N,m,g){for(var $=-1,k=N.criteria,v=m.criteria,F=k.length,n=g.length;++$<F;){var w=t(k[$],v[$]);if(w){if($>=n)return w;var b=g[$];return w*(b=="desc"?-1:1)}}return N.index-m.index}H.exports=x},99291:(H,U,s)=>{var t=s(98612);function x(N,m){return function(g,$){if(g==null)return g;if(!t(g))return N(g,$);for(var k=g.length,v=m?k:-1,F=Object(g);(m?v--:++v<k)&&$(F[v],v,F)!==!1;);return g}}H.exports=x},96347:(H,U,s)=>{var t=s(23933),x=s(7518),N=s(31167),m=N&&N.isRegExp,g=m?x(m):t;H.exports=g},89734:(H,U,s)=>{var t=s(21078),x=s(82689),N=s(5976),m=s(16612),g=N(function($,k){if($==null)return[];var v=k.length;return v>1&&m($,k[0],k[1])?k=[]:v>2&&m(k[0],k[1],k[2])&&(k=[k[0]]),x($,t(k,1),[])});H.exports=g},39138:(H,U,s)=>{var t=s(80531),x=s(40180),N=s(62689),m=s(13218),g=s(96347),$=s(88016),k=s(83140),v=s(40554),F=s(79833),n=30,w="...",b=/\w*$/;function Ne(fe,Ce){var te=n,pe=w;if(m(Ce)){var ce="separator"in Ce?Ce.separator:ce;te="length"in Ce?v(Ce.length):te,pe="omission"in Ce?t(Ce.omission):pe}fe=F(fe);var Te=fe.length;if(N(fe)){var Le=k(fe);Te=Le.length}if(te>=Te)return fe;var Re=te-$(pe);if(Re<1)return pe;var me=Le?x(Le,0,Re).join(""):fe.slice(0,Re);if(ce===void 0)return me+pe;if(Le&&(Re+=me.length-Re),g(ce)){if(fe.slice(Re).search(ce)){var u,Pe=me;for(ce.global||(ce=RegExp(ce.source,F(b.exec(ce))+"g")),ce.lastIndex=0;u=ce.exec(Pe);)var Ye=u.index;me=me.slice(0,Ye===void 0?Re:Ye)}}else if(fe.indexOf(t(ce),Re)!=Re){var lt=me.lastIndexOf(ce);lt>-1&&(me=me.slice(0,lt))}return me+pe}H.exports=Ne},2407:(H,U,s)=>{"use strict";s.d(U,{$:()=>F,O:()=>n});var t=s(85893),x=s(16405),N=s(1565),m=s(41580),g=s(11047),$=s(75515),k=s(63237);const v=(0,N.ZP)(g.k)`
  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
    path {
      fill: ${({theme:w})=>w.colors.neutral500};
    }
  }
  :last-of-type ${m.x} {
    display: none;
  }
  :last-of-type ${$.Z} {
    color: ${({theme:w})=>w.colors.neutral800};
    font-weight: ${({theme:w})=>w.fontWeights.bold};
  }
`,F=({children:w})=>(0,t.jsxs)(v,{inline:!0,as:"li",children:[(0,t.jsx)($.Z,{variant:"pi",textColor:"neutral600",children:w}),(0,t.jsx)(m.x,{"aria-hidden":!0,paddingLeft:3,paddingRight:3,children:(0,t.jsx)(x.Z,{})})]});F.displayName="Crumb";const n=({children:w,label:b,...Ne})=>(0,t.jsxs)(g.k,{...Ne,children:[(0,t.jsx)(k.T,{children:b}),(0,t.jsx)("ol",{"aria-hidden":!0,children:w})]});n.displayName="Breadcrumbs"},38855:(H,U,s)=>{"use strict";s.d(U,{h:()=>we,X:()=>Qe});var t=s(67294),x=s(70968),N=s(12645),m=s(45697),g=s(90608),$=s(74020),k=s(70389),v=s(7801);const F={Close:"Close",CloseSelect:"CloseSelect",First:"First",Last:"Last",Next:"Next",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Previous:"Previous",Select:"Select",Space:"Space",Type:"Type"},n={Close:"Close",First:"First",Last:"Last",Next:"Next",Open:"Open",Previous:"Previous",Select:"Select",UpLevel:"UpLevel"};function w(G=[],ge=null,Me=[]){const j=String(ge??"").toLowerCase();return j?G.filter(re=>re.props.children.toString().toLowerCase().includes(j)&&Me.indexOf(re)<0):G}function b(G,ge){if(!ge&&G===v.y.DOWN)return F.Open;if(G===v.y.DOWN)return F.Next;if(G===v.y.UP)return F.Previous;if(G===v.y.HOME)return F.First;if(G===v.y.END)return F.Last;if(G===v.y.ESCAPE)return F.Close;if(G===v.y.ENTER)return F.CloseSelect;if(G===v.y.BACKSPACE||G===v.y.CLEAR||G.length===1)return F.Type}function Ne(G,ge,Me){switch(Me){case F.First:return 0;case F.Last:return ge;case F.Previous:return Math.max(0,G-1);case F.Next:return Math.min(ge,G+1);default:return G}}function fe(G){(0,k.Z)(G,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:ge,top:Me,left:j})=>{ge.scrollTop=Me,ge.scrollLeft=j})}var Ce=s(41580),te=s(54574),pe=s(19270),ce=s(63428),Te=s(96404),Le=s(11047),Re=s(2504),me=s(88655),u=s(26048),Pe=s(81318),Ye=s(75515),lt=s(63237);const we=({children:G,clearLabel:ge,creatable:Me,createMessage:j,disabled:re,error:Je,hasMoreItems:K,hint:De,id:vt,label:_,labelAction:Vt,loading:mt,loadingMessage:_e,noOptionsMessage:It,onChange:jt,onClear:qe,onCreateOption:Ht,onInputChange:Ct,onLoadMore:Gt,placeholder:ne,required:Kt,value:Ge,...St})=>{const Lt=()=>G.find(Y=>Y.props?.value.toLowerCase()===Ge.toLowerCase()).props?.children,[ye,pt]=(0,t.useState)(0),[Ue,Gn]=(0,t.useState)(null),[Ie,Tt]=(0,t.useState)(G),[at,Kn]=(0,t.useState)(!1),[Ee,gt]=(0,t.useState)(""),ft=(0,t.useRef)(),Mt=(0,t.useRef)(!1),yt=(0,t.useRef)(),$t=(0,t.useRef)(),kt=(0,t.useRef)(),X=(0,t.useRef)(!0),he=(0,Re.M)(vt),Xt=`${he}-label`;if(!_&&!St["aria-label"])throw new Error('The Combobox component needs a "label" or an "aria-label" props');(0,t.useEffect)(()=>{Tt(w(G,Ee))},[Ee,G]),(0,t.useEffect)(()=>{at&&ft.current&&fe(ft.current)},[ye,at]),(0,t.useLayoutEffect)(()=>{X.current&&(X.current=!1)},[Ge]);const ht=at?`${he}-${ye}`:"",Bt=()=>{jt(null),gt("")},Yt=Y=>{Ct&&Ct(Y);const le=yt.current.value;Tt(w(G,le)),pt(0),Gn(null),Ee!==le&&gt(le),at||Ke(!0,!1)},Qt=Y=>{const{key:le}=Y,je=Me&&Ee?Ie.length:Ie.length-1,dt=b(le,at);switch(Ge&&!Ee&&le===v.y.BACKSPACE&&Bt(),dt){case F.Next:{if(ye===je){st(0);break}st(Ne(ye,je,dt));break}case F.Previous:{if(ye===0){st(je);break}st(Ne(ye,je,dt));break}case F.Last:case F.First:{if(ye===je){st(0);break}st(Ne(ye,je,dt));break}case F.CloseSelect:Y.preventDefault(),Ot(ye);break;case F.Close:Y.preventDefault(),Ke(!1);break;case F.Open:Ke(!0);break}},ot=Y=>{if(Y.preventDefault(),Ge&&!Mt.current&&gt(""),Mt.current){Mt.current=!1;return}Ke(!1,!1)},st=Y=>{pt(Y)},Jt=Y=>{st(Y),Ot(Y)},_t=()=>{Mt.current=!0},Ot=Y=>{const le=Ie[Y];if(gt(""),le){jt(le.props.value),Ke(!1);return}Me&&(Ht(Ee),Ke(!1))},Ke=(Y,le=!0)=>{Kn(Y),le&&yt.current.focus()},en=t.Children.toArray(Ie).map((Y,le)=>{const je=ye===le;return(0,t.cloneElement)(Y,{id:`${he}-${le}`,"aria-selected":Ue===le,"aria-posinset":le+1,"aria-setsize":t.Children.toArray(Ie).length,ref(dt){je&&(ft.current=dt)},onClick:()=>Jt(le),onMouseDown:_t,isSelected:je})}),Xn=()=>{yt.current.focus(),qe&&qe(),Bt()},tn=()=>{yt.current.focus(),Ke(!0)},wt=()=>{const Y=Ie.findIndex(le=>le.props?.children===Ee);return Ee&&Y===-1},nn=Y=>{Y.preventDefault(),Ke(Y,!0)};let bt;return Je?bt=`${he}-error`:De&&(bt=`${he}-hint`),t.createElement(te.g,{hint:De,error:Je,id:he,required:Kt},t.createElement(lt.T,{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text"},Ge),t.createElement(Le.k,{direction:"column",alignItems:"stretch",gap:_||De||Je?1:0},_&&t.createElement(pe.Q,{action:Vt},_),t.createElement($.d8,{ref:$t,$disabled:re,hasError:Je},t.createElement($.fv,{wrap:"wrap"},!Ee&&Ge&&t.createElement($.K7,{id:`${he}-selected-value`},t.createElement(Ye.Z,null,Lt())),t.createElement($.II,{"aria-activedescendant":ht,"aria-autocomplete":"list","aria-controls":`${he}-listbox`,"aria-disabled":re,"aria-expanded":at,"aria-haspopup":"listbox","aria-describedby":bt,autoComplete:"off",autoCorrect:"off",id:he,onBlur:re?void 0:ot,onClick:re?void 0:nn,onInput:re?void 0:Yt,onKeyDown:re?void 0:Qt,placeholder:Ge?"":ne,readOnly:re,ref:yt,required:Kt,role:"combobox",spellCheck:"off",type:"text",value:Ee})),t.createElement(Le.k,null,(Ge||Ee)&&t.createElement(Pe.zb,{id:`${he}-clear`,"aria-label":ge,disabled:re,paddingLeft:3,as:"button",onClick:Xn,type:"button"},t.createElement(x.Z,null)),t.createElement(Pe.AV,{disabled:re,paddingLeft:3,"aria-hidden":!0,as:"button",onClick:tn,tabIndex:-1,type:"button"},t.createElement(N.Z,null)))),t.createElement(ce.J,null),t.createElement(Te.c,null)),at&&t.createElement(u.J2,{id:`${he}-popover`,source:$t,spacing:4,fullWidth:!0,intersectionId:`${he}-listbox-popover-intersection`,onReachEnd:K&&!mt?Gt:void 0},t.createElement("div",{role:"listbox",ref:kt,id:`${he}-listbox`,"aria-labelledby":_?Xt:void 0},(Boolean(Ie.length)||Me)&&t.createElement(t.Fragment,null,en,wt()&&Me&&t.createElement(g.O,{isSelected:ye===Ie.length,ref:Y=>{ye===Ie.length&&(ft.current=Y)},onMouseDown:_t,onClick:()=>Ot(),taindex:0},j(Ee))),!Ie.length&&!Me&&!mt&&t.createElement(Ce.x,{paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,ref:ft},t.createElement(Ye.Z,{textColor:"neutral800"},It(Ee))),mt&&t.createElement(Le.k,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2},t.createElement(me.a,{small:!0},_e)))))},Qe=G=>t.createElement(we,{...G,creatable:!0});we.defaultProps={"aria-label":void 0,clearLabel:"clear",creatable:!1,createMessage:G=>`Create "${G}"`,disabled:!1,error:void 0,hasMoreItems:!1,hint:void 0,id:void 0,label:void 0,loading:!1,loadingMessage:"Loading content...",noOptionsMessage:()=>"No results found",onClear:void 0,onCreateOption:void 0,onInputChange:void 0,onLoadMore:void 0,placeholder:"Select or enter a value",value:void 0},Qe.defaultProps=we.defaultProps,we.propTypes={"aria-label":m.string,children:m.oneOfType([m.arrayOf(m.node),m.node]),clearLabel:m.string,creatable:m.bool,createMessage:m.func,disabled:m.bool,error:m.string,hasMoreItems:m.bool,id:m.string,hint:m.oneOfType([m.string,m.node,m.arrayOf(m.node)]),label:m.string,labelAction:m.element,loading:m.bool,loadingMessage:m.string,noOptionsMessage:m.func,onChange:m.func.isRequired,onClear:m.func,onCreateOption:m.func,onInputChange:m.func,onLoadMore:m.func,placeholder:m.string,value:m.string},Qe.propTypes={...we.propTypes,onCreateOption:m.func.isRequired}},90608:(H,U,s)=>{"use strict";s.d(U,{O:()=>g});var t=s(67294),x=s(45697),N=s(74020),m=s(75515);const g=(0,t.forwardRef)(({isSelected:$,children:k,...v},F)=>t.createElement(N.Zq,{hasRadius:!0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,role:"option",background:"neutral0",isSelected:$,ref:F,...v},t.createElement(m.Z,{textColor:$?"primary600":"neutral800",fontWeight:$?"bold":null},k)));g.defaultProps={isSelected:!1},g.propTypes={children:x.oneOfType([x.string,x.number]).isRequired,isSelected:x.bool},g.displayName="ComboboxOption"},74020:(H,U,s)=>{"use strict";s.d(U,{II:()=>v,K7:()=>$,Zq:()=>F,d8:()=>g,fv:()=>k});var t=s(1565),x=s(41580),N=s(11047),m=s(15585);const g=(0,t.ZP)(N.k)`
  position: relative;
  border: 1px solid ${({theme:n,hasError:w})=>w?n.colors.danger600:n.colors.neutral200};
  padding-right: ${({theme:n})=>n.spaces[3]};
  padding-left: ${({theme:n})=>n.spaces[3]};
  border-radius: ${({theme:n})=>n.borderRadius};
  background: ${({theme:n})=>n.colors.neutral0};

  ${({theme:n,$disabled:w})=>w?`
    color: ${n.colors.neutral600};
    background: ${n.colors.neutral150};
  `:void 0}

  ${(0,m.k3)()}
`,$=t.ZP.div`
  padding: 1px 2px;
  grid-area: 1 / 1 / 2 / 3;
`,k=(0,t.ZP)(N.k)`
  display: grid;
  flex: 1 1 0%;
  position: relative;
`,v=t.ZP.input`
  display: inline-grid;
  grid-area: 1 / 1 / 2 / 3;
  grid-template-columns: 0px min-content;
  background: transparent;
  min-height: ${40/16}rem;
  border: none;
  flex: 1;
  font-size: ${14/16}rem;
  color: ${({theme:n})=>n.colors.neutral800};
  outline: none;
  &:focus-visible {
    outline: none;
    box-shadow: none;
    outline-offset: 0;
  }
  &[aria-disabled='true'] {
    background: inherit;
    color: inherit;
    cursor: not-allowed;
  }
`,F=(0,t.ZP)(x.x)`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  ${({isSelected:n,theme:w})=>n&&`background: ${w.colors.primary100};`}

  &:hover {
    background: ${({theme:n})=>n.colors.primary100};
  }
`},17603:(H,U,s)=>{"use strict";s.d(U,{Q:()=>$});var t=s(67294),x=s(45697),N=s(82562);const m=({children:k,label:v,...F})=>{const n=k.map(w=>w.props.value);return t.createElement(t.Fragment,null,t.createElement(N.W,{"data-opt-group":!0,"data-opt-group-children":n,"aria-label":`${v}, ${k.length} items`,...F},v),k)};m.propTypes={children:x.arrayOf(x.node).isRequired,label:x.string.isRequired},m.displayName="OptGroup";var g=s(48302);const $=({options:k,...v})=>t.createElement(g.P,{multi:!0,...v},k.map(({label:F,value:n,children:w})=>w?t.createElement(m,{key:F,label:F},w?.map(b=>t.createElement(N.W,{key:b.value,value:b.value},b.label))):t.createElement(N.W,{key:n,value:n},F)));$.propTypes={options:x.arrayOf(x.object).isRequired}}}]);
