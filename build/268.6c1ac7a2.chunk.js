"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[268],{27887:(U,p,e)=>{e.d(p,{r:()=>g});var o=e(67294),c=e(45697),u=e.n(c),A=e(99168),L=e(41580);function v(E,m,l){if(!E||!m)return{display:"none"};const{x:D,y:I}=l;return{transform:`translate(${D}px, ${I}px)`}}function g({renderItem:E}){const{itemType:m,isDragging:l,item:D,initialOffset:I,currentOffset:M,mouseOffset:w}=(0,A.useDragLayer)(P=>({item:P.getItem(),itemType:P.getItemType(),initialOffset:P.getInitialSourceClientOffset(),currentOffset:P.getSourceClientOffset(),isDragging:P.isDragging(),mouseOffset:P.getClientOffset()}));return l?o.createElement(L.x,{height:"100%",left:0,position:"fixed",pointerEvents:"none",top:0,zIndex:100,width:"100%"},o.createElement(L.x,{style:v(I,M,w)},E({type:m,item:D}))):null}g.propTypes={renderItem:u().func.isRequired}},99781:(U,p,e)=>{var o=e(67294);const c=(0,o.createContext)();var u=null},75642:(U,p,e)=>{e.d(p,{PL:()=>L,Y9:()=>Te.Y,zE:()=>_,Ky:()=>a,fi:()=>f,zH:()=>fe,r5:()=>Z});var o=e(67294),c=e(86706),u=e(21323);const L=()=>{const t=(0,c.v9)(u.Z),s=(0,o.useCallback)(n=>t?.components?.[n]??{},[t]);return{...t,getComponentLayout:s}};var v=e(52861),g=e(73599),E=e(50361),m=e.n(E),l=e(27361),D=e.n(l),I=e(36968),M=e.n(I),w=e(47815);const P=(t,s)=>s.find(n=>n.uid===t),J=(t,s)=>{const n=Y(t,s),r=z(n.contentType,s),T=q(n.contentType,n.components);return M()(n,["contentType","layouts","edit"],r),M()(n,["contentType","layouts","list"],T),Object.keys(n.components).forEach(d=>{const O=z(n.components[d],s);M()(n,["components",d,"layouts","edit"],O)}),n},Y=(t,s)=>{const n=(0,w.w8)(m()(t),s,"contentType"),{components:r,contentType:T}=n,d=O=>Object.keys(O.metadatas).reduce((k,S)=>{const b=D()(O,["attributes",S],{});let N=O.metadatas[S];if(b.type==="relation"){const ye=P(b.targetModel,s),j=N.edit.mainField,V={name:j,schema:D()(ye,["attributes",j])};N={list:{...N.list,mainField:V},edit:{...N.edit,mainField:V}}}return k[S]=N,k},{});return M()(n,["contentType","metadatas"],d(T)),Object.keys(r).forEach(O=>{const k=r[O],S=d(k);M()(n,["components",O,"metadatas"],S)}),n},z=(t,s)=>t.layouts.edit.reduce((n,r)=>{const T=r.map(d=>{const O=D()(t,["attributes",d.name],{}),k={...d,fieldSchema:O,metadatas:D()(t,["metadatas",d.name,"edit"],{})};if(O.type==="relation"){const b=P(O.targetModel,s).pluginOptions||{};M()(k,"targetModelPluginOptions",b),M()(k,"queryInfos",{shouldDisplayRelationLink:ae(t,d.name,s)})}return k});return n.push(T),n},[]),q=(t,s)=>t.layouts.list.reduce((r,T)=>{const d=D()(t,["attributes",T],{}),O=D()(t,["metadatas",T,"list"],{}),k=d.type;if(k==="relation")return r.push({key:`__${T}_key__`,name:T,fieldSchema:d,metadatas:O}),r;if(k==="component"){const S=s[d.component],b=S.settings.mainField,N=S.attributes[b];return r.push({key:`__${T}_key__`,name:T,fieldSchema:d,metadatas:{...O,mainField:{...N,name:b}}}),r}return r.push({key:`__${T}_key__`,name:T,fieldSchema:d,metadatas:O}),r},[]),ae=(t,s,n)=>{const r=D()(t,["attributes",s,"targetModel"],"");return ee(n).includes(r)},ee=t=>t.filter(s=>s.isDisplayed).map(({uid:s})=>s),X=J;var te=e(18172);const K={error:null,isLoading:!0,layout:{},layouts:{}},Q=(t,s)=>(0,te.ZP)(t,n=>{switch(s.type){case"GET_DATA":{n.isLoading=!0,n.error=null,n.layout={};break}case"GET_DATA_SUCCEEDED":{const r=s.data.contentType.uid;n.layout=s.data,n.layouts[r]=s.data,n.isLoading=!1;break}case"GET_DATA_ERROR":{n.isLoading=!1,n.error=s.error;break}case"SET_LAYOUT_FROM_STATE":{n.error=null,n.layout=t.layouts[s.uid];break}case"UPDATE_LAYOUT":{const r=t.layout;n.layout={...r,contentType:{uid:r.contentType.uid,...s.newLayout.contentType}},n.layouts[r.contentType.uid]={...r,contentType:{uid:r.contentType.uid,...s.newLayout.contentType}};break}default:return n}});var B=e(84668);const _=t=>{const[{error:s,isLoading:n,layout:r,layouts:T},d]=(0,o.useReducer)(Q,K),O=(0,o.useMemo)(B.Vo,[]),{schemas:k}=(0,c.v9)(j=>O(j),c.wU),S=(0,o.useRef)(!0),{get:b}=(0,g.kY)(),N=(0,o.useCallback)(async(j,V)=>{if(T[j]){d({type:"SET_LAYOUT_FROM_STATE",uid:j});return}d({type:"GET_DATA"});try{const oe=(0,w.IF)(`content-types/${j}/configuration`),{data:{data:Ee}}=await b(oe,{cancelToken:V.token});d({type:"GET_DATA_SUCCEEDED",data:X(Ee,k)})}catch(oe){if(v.default.isCancel(oe))return;S.current&&console.error(oe),S.current&&d({type:"GET_DATA_ERROR",error:oe})}},[T,k,b]);(0,o.useEffect)(()=>()=>{S.current=!1},[]),(0,o.useEffect)(()=>{const V=v.default.CancelToken.source();return N(t,V),()=>{V.cancel("Operation canceled by the user.")}},[t,N]);const ye=(0,o.useCallback)(j=>{d({type:"UPDATE_LAYOUT",newLayout:X(j,k)})},[k]);return{error:s,isLoading:n,layout:r,updateLayout:ye}},H=t=>t["content-manager_app"].collectionTypeLinks;var $=e(80129),le=e(13218),me=e.n(le);const ie=(t,s)=>Object.keys(t).reduce((n,r)=>{const T=t[r],d=D()(s,[r],T);return me()(T)?{...n,[r]:ie(T,d)}:(n[r]=d,n)},{}),pe=(t,s,n)=>{const r=t.find(({to:N})=>N.includes(s));if(!r)return"/";const{to:T,search:d}=r,O=(0,$.parse)(d),k=(0,$.parse)(n.substring(1)),S=ie(O,k);return`${T}?${(0,$.stringify)(S,{encode:!1})}`},a=t=>{const[{rawQuery:s}]=(0,g.Kx)(),n=(0,c.v9)(H);return pe(n,t,s)};var i=e(16550);const f=()=>{const{search:t}=(0,i.TH)(),s=t?(0,$.parse)(t.substring(1)):{};return s.plugins?(0,$.stringify)({plugins:s.plugins},{encode:!1}):""};var W=e(80015);const x=(t,s,n)=>({type:W.m,permissions:t,__meta__:{plugins:s,containerName:n}}),R=()=>({type:W.Q}),h=t=>t["content-manager_rbacManager"].permissions,C=t=>t.rbacProvider.collectionTypesRelatedPermissions,Z=(t,s,n="listView")=>{const r=(0,c.v9)(C),T=(0,c.v9)(h),d=(0,c.I0)(),O=r[s];return(0,o.useEffect)(()=>O?(d(x(O,t?t.plugins:null,n)),()=>{d(R())}):()=>{},[O,d,t,n]),T};var ue=e(99781);const G=()=>useContext(WysiwygContext),se=null,fe=t=>{const s=(0,o.useRef)();return(0,o.useEffect)(()=>{s.current=t},[t]),s.current};var Te=e(15699),De=e(40703)},15699:(U,p,e)=>{e.d(p,{Y:()=>L});var o=e(67294),c=e(99168),u=e.n(c),A=e(40703);const L=(v,{type:g="STRAPI_DND",index:E,item:m={},onStart:l,onEnd:D,onGrabItem:I,onDropItem:M,onCancel:w,onMoveItem:P,dropSensitivity:J="regular"})=>{const Y=(0,o.useRef)(null),[{handlerId:z},q]=(0,c.useDrop)({accept:g,collect(K){return{handlerId:K.getHandlerId()}},hover(K,re){if(!Y.current)return;const Q=K.index,B=E;if(Q!==B){if(J==="regular"){const ne=Y.current.getBoundingClientRect(),_=(ne.bottom-ne.top)/2,H=re.getClientOffset().y-ne.top;if(Q<B&&H<_||Q>B&&H>_)return}P(B,Q),K.index=B}}}),[{isDragging:ae},ee,X]=(0,c.useDrag)({type:g,item(){l&&l();const{width:K}=Y.current?.getBoundingClientRect()??{};return{index:E,width:K,...m}},end(){D&&D()},canDrag:v,isDragging:m.id?K=>m.id===K.getItem().id:void 0,collect:K=>({isDragging:K.isDragging()})}),te=(0,A.A)(v,E,{onGrabItem:I,onDropItem:M,onCancel:w,onMoveItem:P});return[{handlerId:z,isDragging:ae,handleKeyDown:te},Y,q,ee,X]}},40703:(U,p,e)=>{e.d(p,{A:()=>c});var o=e(67294);const c=(u,A,{onCancel:L,onDropItem:v,onGrabItem:g,onMoveItem:E})=>{const[m,l]=(0,o.useState)(!1),D=P=>{m&&(P==="UP"?E(A-1,A):P==="DOWN"&&E(A+1,A))},I=()=>{m?(v&&v(A),l(!1)):(g&&g(A),l(!0))},M=()=>{m&&(l(!1),L&&L(A))};return P=>{if(u&&!(P.key==="Tab"&&!m))switch(P.preventDefault(),P.key){case" ":case"Enter":I();break;case"Escape":M();break;case"ArrowDown":case"ArrowRight":D("DOWN");break;case"ArrowUp":case"ArrowLeft":D("UP");break;default:}}}},84668:(U,p,e)=>{e.d(p,{Jg:()=>E,KQ:()=>v,Vo:()=>g,Yg:()=>u});var o=e(20573),c=e(14506);const u=()=>l=>l["content-manager_app"]||c.E,A=()=>createSelector(u(),l=>l),L=()=>createSelector(u(),l=>l.models),v=()=>(0,o.P1)(u(),l=>({collectionTypeLinks:l.collectionTypeLinks,singleTypeLinks:l.singleTypeLinks})),g=()=>(0,o.P1)(u(),({components:l,models:D})=>({schemas:[...l,...D]})),E=(0,o.P1)(u(),l=>l.fieldSizes);var m=null},21323:(U,p,e)=>{e.d(p,{Z:()=>c});const c=u=>u["content-manager_editViewLayoutManager"].currentLayout},56723:(U,p,e)=>{e.d(p,{Z:()=>o});const o={COMPONENT:"component",EDIT_FIELD:"editField",FIELD:"field",DYNAMIC_ZONE:"dynamicZone",RELATION:"relation"}},69881:(U,p,e)=>{e.d(p,{Z:()=>c});const c=u=>`content-manager.${u}`},47815:(U,p,e)=>{e.d(p,{_Q:()=>H.Z,W3:()=>A,ko:()=>E,FE:()=>l,Di:()=>w,du:()=>z,TA:()=>ee,Ts:()=>re,Uo:()=>B,IF:()=>_,OB:()=>de.Z,w8:()=>ie,kc:()=>ge});var o=e(50361),c=e.n(o);const A=(a,i,y)=>{if(Array.isArray(a)&&i>=0&&y>=0&&i<=a.length-1&&y<=a.length-1){const f=c()(a),W=f.splice(i,1);return f.splice(y,0,W[0]),f}return a};var L=e(7334),v=e.n(L);const E=a=>{const i=a.type;return i==="relation"?!v()(a.relationType).includes("morph"):!["json","dynamiczone","richtext","password"].includes(i)&&!!i},m=(a,i)=>{typeof a=="function"?a(i):a!=null&&(a.current=i)},l=(...a)=>i=>a.forEach(y=>m(y,i));var D=e(27361),I=e.n(D);const M=(a,i)=>Object.keys(a).reduce((y,f)=>{const W=I()(a,[f],{}),{default:x,component:R,type:h,required:C,min:F,repeatable:Z}=W;if(x!==void 0&&(y[f]=x),h==="component"){const ue=i?.[R]?.attributes??{},G=M(ue,i);if(C===!0&&(y[f]=Z===!0?[]:G),F&&Z===!0&&C){y[f]=[];for(let se=0;se<F;se+=1)y[f].push(G)}}return h==="dynamiczone"&&C===!0&&(y[f]=[]),y},{}),w=M;var P=e(57557),J=e.n(P);const z=({layouts:a,metadatas:i,...y})=>{const f=a.list.map(R=>R.name?R.name:R),W=Object.keys(i).reduce((R,h)=>{const C=I()(i,[h],{});let F=C.edit;return F.mainField&&(F={...F,mainField:C.edit.mainField.name}),{...R,[h]:{edit:F,list:J()(C.list,["mainField"])}}},{}),x=a.edit.map(R=>R.map(({name:h,size:C})=>({name:h,size:C})));return{...y,layouts:{edit:x,list:f},metadatas:W}},q=(a,i)=>a.map(y=>({...y,subject:i})),ee=a=>{const i={create:[{action:"plugin::content-manager.explorer.create",subject:null}],delete:[{action:"plugin::content-manager.explorer.delete",subject:null}],publish:[{action:"plugin::content-manager.explorer.publish",subject:null}],read:[{action:"plugin::content-manager.explorer.read",subject:null}],update:[{action:"plugin::content-manager.explorer.update",subject:null}]};return Object.keys(i).reduce((y,f)=>(y[f]=q(i[f],a),y),{})};var X=e(7654),te=e.n(X);const re=a=>a.split(".").filter(i=>te()(parseInt(i,10))),B=a=>{if(a.length===0)return-1;const i=Math.max.apply(Math,a.map(y=>y.__temp_key__??0));return Number.isNaN(i)?-1:i},_=a=>`/content-manager/${a}`;var de=e(69881),H=e(56723),$=e(36968),le=e.n($);const ie=(a,i,y)=>{const f=h=>i.find(C=>C.uid===h),W=Object.assign({},a),x=a[y].uid,R=f(x);return le()(W,[y],{...a[y],...R}),Object.keys(a.components).forEach(h=>{const C=f(h);le()(W,["components",h],{...a.components[h],...C})}),W};var ce=e(73599);const ge=(a,i,y)=>{const f=(W,x)=>Object.keys(W).reduce((R,h)=>{const C=(0,ce.UN)(x,h),F=I()(W,h),Z=(0,ce.k2)(x,[h,"component"]),ue=(0,ce.k2)(x,[h,"repeatable"]);return C==="dynamiczone"?(R[h]=F.map(G=>f(G,y[G.__component])),R):C==="component"?(ue?R[h]=F&&F.map(G=>f(G,y[Z])):R[h]=F&&f(F,y[Z]),R):(C!=="password"&&(R[h]=F),R)},{});return f(a,i)}},75194:(U,p,e)=>{e.d(p,{K:()=>g});var o=e(67294),c=e(45697),u=e.n(c),A=e(5079),L=e(11047),v=e(75515);function g({children:E,...m}){const{color:l}=m.data;return o.createElement(A.c.Option,{...m},o.createElement(L.k,{alignItems:"center",gap:2},o.createElement(L.k,{height:2,background:l,hasRadius:!0,shrink:0,width:2}),o.createElement(v.Z,{textColor:"neutral800",ellipsis:!0},E)))}g.propTypes={children:u().node.isRequired,data:u().shape({color:u().string}).isRequired}},54878:(U,p,e)=>{e.d(p,{R:()=>g});var o=e(67294),c=e(45697),u=e.n(c),A=e(5079),L=e(11047),v=e(75515);function g({children:E,...m}){const{color:l}=m.data;return o.createElement(A.c.SingleValue,{...m},o.createElement(L.k,{alignItems:"center",gap:2},o.createElement(L.k,{height:2,background:l,hasRadius:!0,shrink:0,width:2}),o.createElement(v.Z,{textColor:"neutral800",ellipsis:!0},E)))}g.defaultProps={children:null},g.propTypes={children:u().node,data:u().shape({color:u().string}).isRequired}},53616:(U,p,e)=>{e.d(p,{$k:()=>g,FT:()=>m,Nj:()=>v,Ot:()=>L,QM:()=>u,lv:()=>E,sN:()=>c,uL:()=>l,x4:()=>A});var o=e(42675);const c="settings_review-workflows",u="Settings/Review_Workflows/SET_WORKFLOWS",A="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",L="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",v="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",g="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",E={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},m=o.W.colors.primary600,l={STAGE:"stage"}},53752:(U,p,e)=>{e.d(p,{n:()=>L});var o=e(88767),c=e(73599);const u="review-workflows",A="/admin/review-workflows";function L(v){const{get:g}=(0,c.kY)(),E=(0,o.useQueryClient)(),m=[u,v??"default"];async function l({params:M={populate:"stages"}}){try{const{data:{data:w}}=await g(`${A}/workflows/${v??""}`,{params:M});return w}catch{return null}}async function D(){await E.refetchQueries(m)}return{workflows:(0,o.useQuery)(m,l),refetchWorkflow:D}}}}]);
